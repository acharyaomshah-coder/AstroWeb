module.exports=[22093,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-select");a.n(b),c()}catch(a){c(a)}},!0),54437,a=>{"use strict";let b=(0,a.i(87e3).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],54437)},15068,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(22093),g=a.i(48623),h=a.i(97737),i=a.i(54437),j=a.i(38964),k=b([f,j]);[f,j]=k.then?(await k)():k;let l=f.Root;f.Group;let m=f.Value,n=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.Trigger,{ref:e,className:(0,j.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.Icon,{asChild:!0,children:(0,d.jsx)(h.ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));n.displayName=f.Trigger.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.ScrollUpButton,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(i.ChevronUp,{className:"h-4 w-4"})}));o.displayName=f.ScrollUpButton.displayName;let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.ScrollDownButton,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.ChevronDown,{className:"h-4 w-4"})}));p.displayName=f.ScrollDownButton.displayName;let q=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.Portal,{children:(0,d.jsxs)(f.Content,{ref:g,className:(0,j.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(o,{}),(0,d.jsx)(f.Viewport,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(p,{})]})}));q.displayName=f.Content.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Label,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.Label.displayName;let r=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.Item,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.ItemIndicator,{children:(0,d.jsx)(g.Check,{className:"h-4 w-4"})})}),(0,d.jsx)(f.ItemText,{children:b})]}));r.displayName=f.Item.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Separator,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.Separator.displayName,a.s(["Select",()=>l,"SelectContent",()=>q,"SelectItem",()=>r,"SelectTrigger",()=>n,"SelectValue",()=>m]),c()}catch(a){c(a)}},!1),286,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(91201),g=a.i(18316),h=a.i(45148),i=a.i(25018),j=a.i(71868),k=a.i(49399),l=a.i(18228),m=a.i(6051),n=a.i(75649),o=a.i(24278),p=a.i(15068),q=a.i(31763),r=a.i(69690),s=a.i(14301),t=a.i(92811),u=a.i(89877),v=b([k,l,m,n,o,p]);function w(){let a=(0,f.useRouter)(),{isAdmin:b,loading:c}=(0,i.useAuth)(),{toast:v}=(0,q.useToast)(),[w,x]=(0,e.useState)(new Date().toISOString().split("T")[0]),[y,z]=(0,e.useState)("aries"),[A,B]=(0,e.useState)(!1),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)({love:"",career:"",finance:"",health:"",luckyNumber:"",luckyColor:"",luckyTime:"",luckyGem:""});(0,e.useEffect)(()=>{c||b||a.push("/")},[c,b,a]),(0,e.useEffect)(()=>{b&&w&&y&&I()},[w,y,b]);let I=async()=>{B(!0);try{let a=await fetch(`/api/horoscope?date=${w}&sign=${y}`),b=await a.json();if(b&&b.length>0){let a=b[0];H({love:a.love||"",career:a.career||"",finance:a.finance||"",health:a.health||"",luckyNumber:a.luckyNumber||"",luckyColor:a.luckyColor||"",luckyTime:a.luckyTime||"",luckyGem:a.luckyGem||""})}else H({love:"",career:"",finance:"",health:"",luckyNumber:"",luckyColor:"",luckyTime:"",luckyGem:""})}catch(a){console.error("Failed to fetch horoscope",a),v({title:"Error",description:"Failed to load horoscope data",variant:"destructive"})}finally{B(!1)}},J=a=>{let{name:b,value:c}=a.target;H(a=>({...a,[b]:c}))},K=async()=>{D(!0);try{let a=await (0,j.getAuthToken)();if(!(await fetch("/api/horoscope",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({date:w,sign:y.toLowerCase(),...G})})).ok)throw Error("Failed to save");v({title:"Success",description:"Horoscope updated successfully"})}catch(a){console.error("Error saving:",a),v({title:"Error",description:"Failed to save horoscope",variant:"destructive"})}finally{D(!1)}},L=async()=>{if(confirm(`Are you sure you want to delete the horoscope for ${y} on ${w}?`)){F(!0);try{let a=await (0,j.getAuthToken)();if(!(await fetch(`/api/horoscope?date=${w}&sign=${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok)throw Error("Failed to delete");v({title:"Success",description:"Horoscope deleted successfully"}),H({love:"",career:"",finance:"",health:"",luckyNumber:"",luckyColor:"",luckyTime:"",luckyGem:""})}catch(a){console.error("Error deleting:",a),v({title:"Error",description:"Failed to delete horoscope",variant:"destructive"})}finally{F(!1)}}};return c||!b?(0,d.jsx)("div",{className:"p-8 text-center",children:"Loading..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.default,{children:(0,d.jsx)("title",{children:"Admin - Daily Horoscope"})}),(0,d.jsx)("div",{className:"min-h-screen bg-muted/20 p-8",children:(0,d.jsxs)("div",{className:"container mx-auto max-w-5xl",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,d.jsx)(h.default,{href:"/",children:(0,d.jsx)(k.Button,{variant:"outline",size:"icon",children:(0,d.jsx)(r.ArrowLeft,{className:"h-4 w-4"})})}),(0,d.jsx)("h1",{className:"text-3xl font-serif font-bold",children:"Manage Daily Horoscope"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(l.Card,{children:[(0,d.jsx)(l.CardHeader,{children:(0,d.jsx)(l.CardTitle,{className:"text-lg",children:"Settings"})}),(0,d.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Select Date"}),(0,d.jsx)(m.Input,{type:"date",value:w,onChange:a=>x(a.target.value)})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Select Zodiac Sign"}),(0,d.jsxs)(p.Select,{value:y,onValueChange:z,children:[(0,d.jsx)(p.SelectTrigger,{children:(0,d.jsx)(p.SelectValue,{placeholder:"Select Sign"})}),(0,d.jsx)(p.SelectContent,{children:["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"].map(a=>(0,d.jsx)(p.SelectItem,{value:a.toLowerCase(),children:a},a))})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 text-sm text-blue-800",children:[(0,d.jsxs)("p",{className:"font-semibold mb-1 flex items-center gap-2",children:[(0,d.jsx)(t.Sparkles,{className:"h-4 w-4"})," Pro Tip"]}),"You can draft horoscopes for future dates by changing the date selector above."]})]}),(0,d.jsx)("div",{className:"md:col-span-2",children:(0,d.jsxs)(l.Card,{children:[(0,d.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,d.jsxs)(l.CardTitle,{className:"text-xl capitalize flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-accent/20 bg-white",children:(0,d.jsx)("img",{src:{aries:{image:"/aries.jpeg"},taurus:{image:"/tauraus.jpeg"},gemini:{image:"/gemini.jpeg"},cancer:{image:"/cancer.jpeg"},leo:{image:"/leo.jpeg"},virgo:{image:"/virgo.jpeg"},libra:{image:"/libra.jpeg"},scorpio:{image:"/scorpio.jpeg"},sagittarius:{image:"/sagittarius.jpeg"},capricorn:{image:"/capricon.jpeg"},aquarius:{image:"/aqarius.jpeg"},pisces:{image:"/pisces.jpeg"}}[y]?.image||"/favicon.png",alt:y,className:"w-full h-full object-cover"})}),(0,d.jsxs)("div",{children:[y," Horoscope",(0,d.jsxs)("p",{className:"text-xs font-normal text-muted-foreground mt-0.5",children:["(",w,")"]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(k.Button,{variant:"destructive",onClick:L,disabled:E||A,children:E?"Deleting...":(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.Trash2,{className:"mr-2 h-4 w-4"})," Delete"]})}),(0,d.jsx)(k.Button,{onClick:K,disabled:C||A,children:C?"Saving...":(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.Save,{className:"mr-2 h-4 w-4"})," Save Changes"]})})]})]}),(0,d.jsx)(l.CardContent,{className:"space-y-6",children:A?(0,d.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading data..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Love & Relationships"}),(0,d.jsx)(o.Textarea,{name:"love",value:G.love,onChange:J,placeholder:"Prediction for love life...",rows:3})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Career & Work"}),(0,d.jsx)(o.Textarea,{name:"career",value:G.career,onChange:J,placeholder:"Prediction for professional life...",rows:3})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Finance & Money"}),(0,d.jsx)(o.Textarea,{name:"finance",value:G.finance,onChange:J,placeholder:"Prediction for financial matters...",rows:3})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Health & Wellness"}),(0,d.jsx)(o.Textarea,{name:"health",value:G.health,onChange:J,placeholder:"Prediction for health...",rows:3})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Number"}),(0,d.jsx)(m.Input,{name:"luckyNumber",value:G.luckyNumber,onChange:J,placeholder:"e.g. 7"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Color"}),(0,d.jsx)(m.Input,{name:"luckyColor",value:G.luckyColor,onChange:J,placeholder:"e.g. Red"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Time"}),(0,d.jsx)(m.Input,{name:"luckyTime",value:G.luckyTime,onChange:J,placeholder:"e.g. 2 PM - 4 PM"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Gem"}),(0,d.jsx)(m.Input,{name:"luckyGem",value:G.luckyGem,onChange:J,placeholder:"e.g. Ruby"})]})]})]})})]})})]})]})})]})}[k,l,m,n,o,p]=v.then?(await v)():v,a.s(["default",()=>w]),c()}catch(a){c(a)}},!1),14767,a=>a.a(async(b,c)=>{try{var d=a.i(72107),e=a.i(48276),f=a.i(72390),g=a.i(32604),h=a.i(72294),i=a.i(286),j=a.i(5872),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/horoscopes",pathname:"/admin/horoscopes",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/horoscopes",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__6174f379._.js.map