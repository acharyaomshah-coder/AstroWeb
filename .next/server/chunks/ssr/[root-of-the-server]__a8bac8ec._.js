module.exports=[22093,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-select");a.n(b),c()}catch(a){c(a)}},!0),35137,a=>{"use strict";let b=(0,a.i(27660).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],35137)},99642,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(22093),g=a.i(98563),h=a.i(45708),i=a.i(35137),j=a.i(10684),k=b([f,j]);[f,j]=k.then?(await k)():k;let l=f.Root;f.Group;let m=f.Value,n=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.Trigger,{ref:e,className:(0,j.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.Icon,{asChild:!0,children:(0,d.jsx)(h.ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));n.displayName=f.Trigger.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.ScrollUpButton,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(i.ChevronUp,{className:"h-4 w-4"})}));o.displayName=f.ScrollUpButton.displayName;let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.ScrollDownButton,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.ChevronDown,{className:"h-4 w-4"})}));p.displayName=f.ScrollDownButton.displayName;let q=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.Portal,{children:(0,d.jsxs)(f.Content,{ref:g,className:(0,j.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(o,{}),(0,d.jsx)(f.Viewport,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(p,{})]})}));q.displayName=f.Content.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Label,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.Label.displayName;let r=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.Item,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.ItemIndicator,{children:(0,d.jsx)(g.Check,{className:"h-4 w-4"})})}),(0,d.jsx)(f.ItemText,{children:b})]}));r.displayName=f.Item.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Separator,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.Separator.displayName,a.s(["Select",()=>l,"SelectContent",()=>q,"SelectItem",()=>r,"SelectTrigger",()=>n,"SelectValue",()=>m]),c()}catch(a){c(a)}},!1),98626,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(61320),g=a.i(315),h=a.i(4500),i=a.i(64747),j=a.i(30328),k=a.i(29659),l=a.i(70448),m=a.i(51663),n=a.i(38107),o=a.i(9131),p=a.i(99642),q=a.i(40920),r=a.i(89697),s=a.i(52028),t=a.i(80104),u=b([k,l,m,n,o,p]);function v(){let a=(0,f.useRouter)(),{isAdmin:b,loading:c}=(0,i.useAuth)(),{toast:u}=(0,q.useToast)(),[v,w]=(0,e.useState)(new Date().toISOString().split("T")[0]),[x,y]=(0,e.useState)("aries"),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)({love:"",career:"",finance:"",health:"",luckyNumber:"",luckyColor:"",luckyTime:"",luckyGem:""});(0,e.useEffect)(()=>{c||b||a.push("/")},[c,b,a]),(0,e.useEffect)(()=>{b&&v&&x&&F()},[v,x,b]);let F=async()=>{A(!0);try{let a=await fetch(`/api/horoscope?date=${v}&sign=${x}`),b=await a.json();if(b&&b.length>0){let a=b[0];E({love:a.love||"",career:a.career||"",finance:a.finance||"",health:a.health||"",luckyNumber:a.luckyNumber||"",luckyColor:a.luckyColor||"",luckyTime:a.luckyTime||"",luckyGem:a.luckyGem||""})}else E({love:"",career:"",finance:"",health:"",luckyNumber:"",luckyColor:"",luckyTime:"",luckyGem:""})}catch(a){console.error("Failed to fetch horoscope",a),u({title:"Error",description:"Failed to load horoscope data",variant:"destructive"})}finally{A(!1)}},G=a=>{let{name:b,value:c}=a.target;E(a=>({...a,[b]:c}))},H=async()=>{C(!0);try{let a=await (0,j.getAuthToken)();if(!(await fetch("/api/horoscope",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({date:v,sign:x,...D})})).ok)throw Error("Failed to save");u({title:"Success",description:"Horoscope updated successfully"})}catch(a){console.error("Error saving:",a),u({title:"Error",description:"Failed to save horoscope",variant:"destructive"})}finally{C(!1)}};return c||!b?(0,d.jsx)("div",{className:"p-8 text-center",children:"Loading..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.default,{children:(0,d.jsx)("title",{children:"Admin - Daily Horoscope"})}),(0,d.jsx)("div",{className:"min-h-screen bg-muted/20 p-8",children:(0,d.jsxs)("div",{className:"container mx-auto max-w-5xl",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,d.jsx)(h.default,{href:"/",children:(0,d.jsx)(k.Button,{variant:"outline",size:"icon",children:(0,d.jsx)(r.ArrowLeft,{className:"h-4 w-4"})})}),(0,d.jsx)("h1",{className:"text-3xl font-serif font-bold",children:"Manage Daily Horoscope"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(l.Card,{children:[(0,d.jsx)(l.CardHeader,{children:(0,d.jsx)(l.CardTitle,{className:"text-lg",children:"Settings"})}),(0,d.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Select Date"}),(0,d.jsx)(m.Input,{type:"date",value:v,onChange:a=>w(a.target.value)})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Select Zodiac Sign"}),(0,d.jsxs)(p.Select,{value:x,onValueChange:y,children:[(0,d.jsx)(p.SelectTrigger,{children:(0,d.jsx)(p.SelectValue,{placeholder:"Select Sign"})}),(0,d.jsx)(p.SelectContent,{children:["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"].map(a=>(0,d.jsx)(p.SelectItem,{value:a.toLowerCase(),children:a},a))})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 text-sm text-blue-800",children:[(0,d.jsxs)("p",{className:"font-semibold mb-1 flex items-center gap-2",children:[(0,d.jsx)(t.Sparkles,{className:"h-4 w-4"})," Pro Tip"]}),"You can draft horoscopes for future dates by changing the date selector above."]})]}),(0,d.jsx)("div",{className:"md:col-span-2",children:(0,d.jsxs)(l.Card,{children:[(0,d.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,d.jsxs)(l.CardTitle,{className:"text-xl capitalize flex items-center gap-2",children:[x," Horoscope ",(0,d.jsxs)("span",{className:"text-sm font-normal text-muted-foreground",children:["(",v,")"]})]}),(0,d.jsx)(k.Button,{onClick:H,disabled:B||z,children:B?"Saving...":(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.Save,{className:"mr-2 h-4 w-4"})," Save Changes"]})})]}),(0,d.jsx)(l.CardContent,{className:"space-y-6",children:z?(0,d.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading data..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Love & Relationships"}),(0,d.jsx)(o.Textarea,{name:"love",value:D.love,onChange:G,placeholder:"Prediction for love life...",rows:3})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Career & Work"}),(0,d.jsx)(o.Textarea,{name:"career",value:D.career,onChange:G,placeholder:"Prediction for professional life...",rows:3})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Finance & Money"}),(0,d.jsx)(o.Textarea,{name:"finance",value:D.finance,onChange:G,placeholder:"Prediction for financial matters...",rows:3})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Health & Wellness"}),(0,d.jsx)(o.Textarea,{name:"health",value:D.health,onChange:G,placeholder:"Prediction for health...",rows:3})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Number"}),(0,d.jsx)(m.Input,{name:"luckyNumber",value:D.luckyNumber,onChange:G,placeholder:"e.g. 7"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Color"}),(0,d.jsx)(m.Input,{name:"luckyColor",value:D.luckyColor,onChange:G,placeholder:"e.g. Red"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Time"}),(0,d.jsx)(m.Input,{name:"luckyTime",value:D.luckyTime,onChange:G,placeholder:"e.g. 2 PM - 4 PM"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Lucky Gem"}),(0,d.jsx)(m.Input,{name:"luckyGem",value:D.luckyGem,onChange:G,placeholder:"e.g. Ruby"})]})]})]})})]})})]})]})})]})}[k,l,m,n,o,p]=u.then?(await u)():u,a.s(["default",()=>v]),c()}catch(a){c(a)}},!1),22486,a=>a.a(async(b,c)=>{try{var d=a.i(68884),e=a.i(38439),f=a.i(39713),g=a.i(63977),h=a.i(89175),i=a.i(98626),j=a.i(71643),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/horoscopes",pathname:"/admin/horoscopes",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/horoscopes",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__a8bac8ec._.js.map