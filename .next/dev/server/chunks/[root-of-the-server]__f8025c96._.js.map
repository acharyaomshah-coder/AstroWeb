{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/DEMO-PROJECTS/AstroWeb/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || \"https://your-project.supabase.co\";\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"your-anon-key\";\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\nexport async function getAuthToken() {\r\n  try {\r\n    const { data: { session } } = await supabase.auth.getSession();\r\n    return session?.access_token || null;\r\n  } catch (error) {\r\n    console.error(\"Error getting auth token:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function signUp(email: string, password: string) {\r\n  return await supabase.auth.signUp({ email, password });\r\n}\r\n\r\nexport async function signIn(email: string, password: string) {\r\n  return await supabase.auth.signInWithPassword({ email, password });\r\n}\r\n\r\nexport async function signOut() {\r\n  return await supabase.auth.signOut();\r\n}\r\n\r\nexport async function getCurrentUser() {\r\n  const { data: { user } } = await supabase.auth.getUser();\r\n  return user;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,wPAA6C;AAE9D,MAAM,WAAW,IAAA,iKAAY,EAAC,aAAa;AAE3C,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;QAC5D,OAAO,SAAS,gBAAgB;IAClC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO;IACT;AACF;AAEO,eAAe,OAAO,KAAa,EAAE,QAAgB;IAC1D,OAAO,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;QAAE;QAAO;IAAS;AACtD;AAEO,eAAe,OAAO,KAAa,EAAE,QAAgB;IAC1D,OAAO,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;QAAE;QAAO;IAAS;AAClE;AAEO,eAAe;IACpB,OAAO,MAAM,SAAS,IAAI,CAAC,OAAO;AACpC;AAEO,eAAe;IACpB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IACtD,OAAO;AACT"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///D:/DEMO-PROJECTS/AstroWeb/src/pages/api/products/%5Bid%5D.ts"],"sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n    const { id } = req.query;\r\n\r\n    if (req.method === \"GET\") {\r\n        if (!id || typeof id !== \"string\") {\r\n            return res.status(400).json({ error: \"Invalid product ID\" });\r\n        }\r\n\r\n        try {\r\n            const { data: product, error } = await supabase\r\n                .from(\"products\")\r\n                .select(\"*\")\r\n                .eq(\"id\", id)\r\n                .single();\r\n\r\n            if (error) throw error;\r\n            if (!product) {\r\n                return res.status(404).json({ error: \"Product not found\" });\r\n            }\r\n\r\n            // Transform snake_case to camelCase\r\n            const formattedProduct = {\r\n                id: product.id,\r\n                name: product.name,\r\n                description: product.description,\r\n                price: product.price,\r\n                category: product.category,\r\n                images: product.images || [],\r\n                benefits: product.benefits || [],\r\n                rating: product.rating || 0,\r\n                reviewCount: product.review_count || 0,\r\n                certified: product.certified || false,\r\n                inStock: product.in_stock || true\r\n            };\r\n\r\n            return res.status(200).json(formattedProduct);\r\n        } catch (error) {\r\n            console.error(\"Error fetching product:\", error);\r\n            return res.status(500).json({ error: \"Failed to fetch product\" });\r\n        }\r\n    }\r\n\r\n    return res.status(405).json({ error: \"Method not allowed\" });\r\n}\r\n"],"names":[],"mappings":";;;;AACA;;AAEe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC3E,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;IAExB,IAAI,IAAI,MAAM,KAAK,OAAO;QACtB,IAAI,CAAC,MAAM,OAAO,OAAO,UAAU;YAC/B,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO;YAAqB;QAC9D;QAEA,IAAI;YACA,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,2JAAQ,CAC1C,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;YAEX,IAAI,OAAO,MAAM;YACjB,IAAI,CAAC,SAAS;gBACV,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBAAE,OAAO;gBAAoB;YAC7D;YAEA,oCAAoC;YACpC,MAAM,mBAAmB;gBACrB,IAAI,QAAQ,EAAE;gBACd,MAAM,QAAQ,IAAI;gBAClB,aAAa,QAAQ,WAAW;gBAChC,OAAO,QAAQ,KAAK;gBACpB,UAAU,QAAQ,QAAQ;gBAC1B,QAAQ,QAAQ,MAAM,IAAI,EAAE;gBAC5B,UAAU,QAAQ,QAAQ,IAAI,EAAE;gBAChC,QAAQ,QAAQ,MAAM,IAAI;gBAC1B,aAAa,QAAQ,YAAY,IAAI;gBACrC,WAAW,QAAQ,SAAS,IAAI;gBAChC,SAAS,QAAQ,QAAQ,IAAI;YACjC;YAEA,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAChC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO;YAA0B;QACnE;IACJ;IAEA,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,OAAO;IAAqB;AAC9D"}}]
}