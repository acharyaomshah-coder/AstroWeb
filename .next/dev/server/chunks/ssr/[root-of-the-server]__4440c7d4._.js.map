{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///D:/DEMO-PROJECTS/AstroWeb/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;;;;;AAEA,MAAM,qBAAO,iHAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kJAAE,EACX,2FACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,iHAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,iHAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kJAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,iHAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,iHAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,iHAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///D:/DEMO-PROJECTS/AstroWeb/src/pages/videos.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport Head from \"next/head\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Plus, Play, ExternalLink } from \"lucide-react\";\r\nimport { useAuth } from \"@/lib/authContext\";\r\nimport { getAuthToken } from \"@/lib/supabase\";\r\n\r\ninterface Video {\r\n  id: string;\r\n  title: string;\r\n  youtubeUrl: string;\r\n  thumbnailUrl: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport default function Videos() {\r\n  const { user, isAdmin } = useAuth();\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [videoTitle, setVideoTitle] = useState(\"\");\r\n  const [youtubeUrl, setYoutubeUrl] = useState(\"\");\r\n\r\n  const { data: videos, isLoading, refetch } = useQuery<Video[]>({\r\n    queryKey: [\"/api/videos\"],\r\n    queryFn: async () => {\r\n      const response = await fetch(\"/api/videos\");\r\n      if (!response.ok) throw new Error(\"Failed to fetch videos\");\r\n      return response.json();\r\n    }\r\n  });\r\n\r\n  const extractYoutubeId = (url: string): string | null => {\r\n    const patterns = [\r\n      /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&\\n?#]+)/,\r\n      /youtube\\.com\\/embed\\/([^&\\n?#]+)/\r\n    ];\r\n    for (const pattern of patterns) {\r\n      const match = url.match(pattern);\r\n      if (match) return match[1];\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const getThumbnailUrl = (youtubeId: string): string => {\r\n    return `https://img.youtube.com/vi/${youtubeId}/maxresdefault.jpg`;\r\n  };\r\n\r\n  const handleAddVideo = async () => {\r\n    const youtubeId = extractYoutubeId(youtubeUrl);\r\n    if (!youtubeId || !videoTitle.trim()) {\r\n      alert(\"Please enter a valid YouTube URL and title\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = await getAuthToken();\r\n      if (!token) {\r\n        alert(\"Authentication required\");\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\"/api/videos\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          title: videoTitle,\r\n          youtubeUrl: youtubeUrl,\r\n          thumbnailUrl: getThumbnailUrl(youtubeId)\r\n        })\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Failed to add video\");\r\n\r\n      setVideoTitle(\"\");\r\n      setYoutubeUrl(\"\");\r\n      setShowAddForm(false);\r\n      refetch();\r\n    } catch (error) {\r\n      console.error(\"Error adding video:\", error);\r\n      alert(\"Failed to add video\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Videos - Divine Astrology</title>\r\n      </Head>\r\n      <div className=\"min-h-screen bg-background\">\r\n        <section className=\"vedic-header py-12 md:py-20 px-4\">\r\n          <div className=\"container mx-auto relative z-10\">\r\n            <div className=\"text-center mb-8\">\r\n              <h1 className=\"font-serif text-4xl md:text-5xl font-bold text-white mb-3\">\r\n                Vedic Intution Videos\r\n              </h1>\r\n              <p className=\"text-white/80 text-lg max-w-2xl mx-auto\">\r\n                Watch our expert astrologers share wisdom, guidance, and spiritual insights\r\n              </p>\r\n            </div>\r\n\r\n            {user && isAdmin && (\r\n              <div className=\"max-w-2xl mx-auto mb-8\">\r\n                {!showAddForm ? (\r\n                  <Button\r\n                    onClick={() => setShowAddForm(true)}\r\n                    className=\"w-full\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4 mr-2\" />\r\n                    Add New Video\r\n                  </Button>\r\n                ) : (\r\n                  <Card className=\"p-6 bg-card\">\r\n                    <h3 className=\"font-serif text-xl font-bold mb-4\">Add YouTube Video</h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium mb-2\">Video Title</label>\r\n                        <Input\r\n                          placeholder=\"Enter video title...\"\r\n                          value={videoTitle}\r\n                          onChange={(e) => setVideoTitle(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium mb-2\">YouTube URL</label>\r\n                        <Input\r\n                          placeholder=\"https://www.youtube.com/watch?v=...\"\r\n                          value={youtubeUrl}\r\n                          onChange={(e) => setYoutubeUrl(e.target.value)}\r\n                        />\r\n                        <p className=\"text-xs text-muted-foreground mt-1\">\r\n                          Paste full YouTube URL or shortened youtu.be link\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button\r\n                          onClick={handleAddVideo}\r\n                          className=\"flex-1\"\r\n                        >\r\n                          Add Video\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          onClick={() => setShowAddForm(false)}\r\n                          className=\"flex-1\"\r\n                        >\r\n                          Cancel\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"py-12 md:py-20 px-4\">\r\n          <div className=\"container mx-auto\">\r\n            {isLoading ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {[1, 2, 3].map((i) => (\r\n                  <div key={i} className=\"bg-muted animate-pulse rounded-lg h-64\" />\r\n                ))}\r\n              </div>\r\n            ) : videos && videos.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {videos.map((video) => (\r\n                  <Card\r\n                    key={video.id}\r\n                    className=\"overflow-hidden hover-elevate cursor-pointer group\"\r\n                  >\r\n                    <div className=\"relative overflow-hidden bg-muted h-48\">\r\n                      <img\r\n                        src={video.thumbnailUrl}\r\n                        alt={video.title}\r\n                        className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                      />\r\n                      <div className=\"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                        <Play className=\"w-12 h-12 text-white fill-white\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"p-4\">\r\n                      <h3 className=\"font-serif text-lg font-bold text-foreground mb-3 line-clamp-2\">\r\n                        {video.title}\r\n                      </h3>\r\n                      <a\r\n                        href={video.youtubeUrl}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                      >\r\n                        <Button\r\n                          variant=\"default\"\r\n                          className=\"w-full\"\r\n                        >\r\n                          <ExternalLink className=\"w-4 h-4 mr-2\" />\r\n                          Watch on YouTube\r\n                        </Button>\r\n                      </a>\r\n                    </div>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12\">\r\n                <p className=\"text-muted-foreground text-lg\">\r\n                  No videos yet.\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}