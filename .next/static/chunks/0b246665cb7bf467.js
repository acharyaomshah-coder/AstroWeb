(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46065,e=>{"use strict";var s=e.i(65829);let a=0,t=new Map,i=e=>{if(t.has(e))return;let s=setTimeout(()=>{t.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);t.set(e,s)},r=[],o={toasts:[]};function n(e){o=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(o,e),r.forEach(e=>{e(o)})}function l({...e}){let s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>n({type:"DISMISS_TOAST",toastId:s});return n({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,a]=s.useState(o);return s.useEffect(()=>(r.push(a),()=>{let e=r.indexOf(a);e>-1&&r.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>n({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>u])},12636,e=>{"use strict";var s=e.i(88627),a=e.i(65829),t=e.i(46577);let i=a.forwardRef(({className:e,type:a,...i},r)=>(0,s.jsx)("input",{type:a,className:(0,t.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...i}));i.displayName="Input",e.s(["Input",()=>i])},56424,e=>{"use strict";var s=e.i(65829),a=e.i(14433),t=e.i(42521),i=e.i(88627),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let r=(0,t.createSlot)(`Primitive.${a}`),o=s.forwardRef((e,s)=>{let{asChild:t,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(t?r:a,{...o,ref:s})});return o.displayName=`Primitive.${a}`,{...e,[a]:o}},{});function o(e,s){e&&a.flushSync(()=>e.dispatchEvent(s))}e.s(["Primitive",()=>r,"dispatchDiscreteCustomEvent",()=>o])},41020,e=>{"use strict";var s=e.i(88627),a=e.i(65829),t=e.i(56424),i=a.forwardRef((e,a)=>(0,s.jsx)(t.Primitive.label,{...e,ref:a,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var r=e.i(84201),o=e.i(46577);let n=(0,r.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(i,{ref:t,className:(0,o.cn)(n(),e),...a}));l.displayName=i.displayName,e.s(["Label",()=>l],41020)},51070,e=>{"use strict";var s=e.i(88627),a=e.i(65829),t=e.i(46577);let i=a.forwardRef(({className:e,...a},i)=>(0,s.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...a}));i.displayName="Textarea",e.s(["Textarea",()=>i])},53088,e=>{"use strict";let s=(0,e.i(26822).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],53088)},7605,e=>{"use strict";let s=(0,e.i(26822).default)("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);e.s(["Sunrise",()=>s],7605)},10117,e=>{"use strict";var s=e.i(88627),a=e.i(65829),t=e.i(33289),i=e.i(31079),r=e.i(25474),o=e.i(39036),n=e.i(56757),l=e.i(2434),u=e.i(12636),c=e.i(41020),d=e.i(51070),h=e.i(30065),m=e.i(7605),p=e.i(53088),f=e.i(46065);function x(){let e=(0,t.useRouter)(),{user:x,isAdmin:g,loading:v}=(0,o.useAuth)(),{toast:y}=(0,f.useToast)(),[b,j]=(0,a.useState)(!1),[w,S]=(0,a.useState)(()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}),[T,N]=(0,a.useState)({vehiclePurchase:"",miscellaneousPurchase:"",newHome:"",auspiciousDays:"",inauspiciousDays:"",note:""});(0,a.useEffect)(()=>{v||g||e.push("/")},[v,g,e]),(0,a.useEffect)(()=>{g&&w&&D()},[g,w]);let D=async()=>{try{let e=await fetch(`/api/muhurat?month=${w}`);if(e.ok){let s=await e.json();if(s&&s.length>0){let e=s[0];N({vehiclePurchase:e.vehiclePurchase||"",miscellaneousPurchase:e.miscellaneousPurchase||"",newHome:e.newHome||"",auspiciousDays:e.auspiciousDays||"",inauspiciousDays:e.inauspiciousDays||"",note:e.note||""})}else N({vehiclePurchase:"",miscellaneousPurchase:"",newHome:"",auspiciousDays:"",inauspiciousDays:"",note:""})}}catch(e){console.error("Error fetching muhurat:",e)}},P=async()=>{try{j(!0);let[e,s]=w.split("-"),a=localStorage.getItem("token");if((await fetch("/api/muhurat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({month:w,year:parseInt(e),monthName:["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(w.split("-")[1],10)-1]||"",...T})})).ok)y({title:"Success",description:"Muhurat saved successfully!"});else throw Error("Failed to save muhurat")}catch(e){console.error("Error saving muhurat:",e),y({title:"Error",description:"Failed to save muhurat. Please try again.",variant:"destructive"})}finally{j(!1)}};return v||!g?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{children:(0,s.jsx)("title",{children:"Manage Muhurat - Admin Dashboard"})}),(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("div",{className:"bg-primary text-primary-foreground py-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,s.jsx)(r.default,{href:"/admin",children:(0,s.jsxs)(n.Button,{variant:"ghost",className:"mb-4 text-primary-foreground hover:bg-primary-foreground/10",children:[(0,s.jsx)(h.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(m.Sunrise,{className:"h-10 w-10"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-serif text-4xl font-bold",children:"Manage Muhurat"}),(0,s.jsx)("p",{className:"text-primary-foreground/90",children:"Set auspicious timings for the month"})]})]})]})}),(0,s.jsx)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:(0,s.jsxs)(l.Card,{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Monthly Muhurat Details"}),(0,s.jsx)(l.CardDescription,{children:"Enter the auspicious days and timings for the selected month"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"month",children:"Month"}),(0,s.jsx)(u.Input,{id:"month",type:"month",value:w,onChange:e=>S(e.target.value),className:"max-w-xs"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"vehiclePurchase",children:"Vehicle Purchase (वाहन खरीद)"}),(0,s.jsx)(d.Textarea,{id:"vehiclePurchase",placeholder:"e.g., 18 (after 10:15), 19 (Till Midnight)",value:T.vehiclePurchase,onChange:e=>N({...T,vehiclePurchase:e.target.value}),rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"miscellaneousPurchase",children:"Miscellaneous Purchase (Jewelry, etc.)"}),(0,s.jsx)(d.Textarea,{id:"miscellaneousPurchase",placeholder:"e.g., 13, 14 (till 12:13)",value:T.miscellaneousPurchase,onChange:e=>N({...T,miscellaneousPurchase:e.target.value}),rows:3})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"newHome",children:"Move to a New Home (गृह प्रवेश)"}),(0,s.jsx)(d.Textarea,{id:"newHome",placeholder:"e.g., 16 (16:39 to 18:18), 18 (After 10:15)",value:T.newHome,onChange:e=>N({...T,newHome:e.target.value}),rows:2})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"auspiciousDays",children:"Auspicious Days (सामान्य शुभ दिन)"}),(0,s.jsx)(d.Textarea,{id:"auspiciousDays",placeholder:"e.g., 13, 14, 16, 18, 19, 21...",value:T.auspiciousDays,onChange:e=>N({...T,auspiciousDays:e.target.value}),rows:2,className:"border-green-200 focus-visible:ring-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"inauspiciousDays",children:"Inauspicious Days (शुभ कार्य वर्जित दिन)"}),(0,s.jsx)(d.Textarea,{id:"inauspiciousDays",placeholder:"e.g., 15, 17, 20, 22, 23...",value:T.inauspiciousDays,onChange:e=>N({...T,inauspiciousDays:e.target.value}),rows:2,className:"border-red-200 focus-visible:ring-red-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"note",children:"Note"}),(0,s.jsx)(d.Textarea,{id:"note",placeholder:"Important notes regarding time zones, etc.",value:T.note,onChange:e=>N({...T,note:e.target.value}),rows:2})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(n.Button,{onClick:P,disabled:b,size:"lg",children:[(0,s.jsx)(p.Save,{className:"h-4 w-4 mr-2"}),b?"Saving...":"Save Monthly Muhurat"]})})]})]})})]})]})}e.s(["default",()=>x])},13231,(e,s,a)=>{let t="/admin/muhurat";(window.__NEXT_P=window.__NEXT_P||[]).push([t,()=>e.r(10117)]),s.hot&&s.hot.dispose(function(){window.__NEXT_P.push([t])})},35581,e=>{e.v(s=>Promise.all(["static/chunks/279c8ad491389a66.js"].map(s=>e.l(s))).then(()=>s(68938)))},3424,e=>{e.v(s=>Promise.all(["static/chunks/88775f09a46bd3ff.js"].map(s=>e.l(s))).then(()=>s(69377)))}]);