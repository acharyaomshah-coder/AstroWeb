(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34803,e=>{"use strict";var s=e.i(88627),t=e.i(84201),a=e.i(46577);let r=(0,t.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...i}){return(0,s.jsx)("div",{className:(0,a.cn)(r({variant:t}),e),...i})}e.s(["Badge",()=>i])},40061,e=>{"use strict";let s=(0,e.i(26822).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],40061)},68267,e=>{"use strict";let s=(0,e.i(26822).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],68267)},45966,e=>{"use strict";let s=(0,e.i(26822).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],45966)},95834,e=>{"use strict";let s=(0,e.i(26822).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>s],95834)},75154,e=>{"use strict";let s=(0,e.i(26822).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>s],75154)},38008,e=>{"use strict";let s=(0,e.i(26822).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>s],38008)},92531,e=>{"use strict";var s=e.i(88627),t=e.i(65829),a=e.i(33289),r=e.i(31079),i=e.i(25474),n=e.i(39036),d=e.i(73535),l=e.i(56757),c=e.i(2434),o=e.i(34803),m=e.i(30065),x=e.i(38008),h=e.i(40061),u=e.i(68267),p=e.i(45966),f=e.i(95834),g=e.i(75154);function j(){let e=(0,a.useRouter)(),{isAdmin:j,loading:y}=(0,n.useAuth)(),[v,N]=(0,t.useState)([]),[b,w]=(0,t.useState)(!0),[k,_]=(0,t.useState)("all");(0,t.useEffect)(()=>{y||j||e.push("/")},[y,j,e]),(0,t.useEffect)(()=>{j&&C()},[j]);let C=async()=>{try{w(!0);let{data:e,error:s}=await d.supabase.from("orders").select("*").order("created_at",{ascending:!1});if(s)throw s;N(e||[])}catch(e){console.error("Error fetching orders:",e)}finally{w(!1)}};if(y||!j)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});let P="all"===k?v:v.filter(e=>e.payment_status===k);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{children:(0,s.jsx)("title",{children:"Manage Orders - Admin Dashboard"})}),(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("div",{className:"bg-primary text-primary-foreground py-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,s.jsx)(i.default,{href:"/admin",children:(0,s.jsxs)(l.Button,{variant:"ghost",className:"mb-4 text-primary-foreground hover:bg-primary-foreground/10",children:[(0,s.jsx)(m.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,s.jsx)("h1",{className:"font-serif text-4xl font-bold mb-2",children:"Orders"}),(0,s.jsx)("p",{className:"text-primary-foreground/90",children:"Manage customer orders"})]})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-6 flex flex-wrap gap-2",children:[(0,s.jsxs)(l.Button,{variant:"all"===k?"default":"outline",onClick:()=>_("all"),children:["All (",v.length,")"]}),(0,s.jsxs)(l.Button,{variant:"pending"===k?"default":"outline",onClick:()=>_("pending"),children:["Pending (",v.filter(e=>"pending"===e.payment_status).length,")"]}),(0,s.jsxs)(l.Button,{variant:"completed"===k?"default":"outline",onClick:()=>_("completed"),children:["Completed (",v.filter(e=>"completed"===e.payment_status).length,")"]})]}),b?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading orders..."})]}):0===P.length?(0,s.jsx)(c.Card,{children:(0,s.jsxs)(c.CardContent,{className:"py-12 text-center",children:[(0,s.jsx)(x.ShoppingCart,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No orders found"})]})}):(0,s.jsx)("div",{className:"space-y-4",children:P.map(e=>{let t=[];try{t=JSON.parse(e.items)}catch(e){console.error("Error parsing order items:",e)}return(0,s.jsxs)(c.Card,{className:"hover-elevate transition-all",children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.User,{className:"h-5 w-5 text-primary"}),e.customer_name]}),(0,s.jsxs)(c.CardDescription,{className:"mt-2 space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Mail,{className:"h-4 w-4"}),e.customer_email]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Phone,{className:"h-4 w-4"}),e.customer_phone]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[(e=>{switch(e){case"pending":return(0,s.jsx)(o.Badge,{className:"bg-yellow-100 text-yellow-800",children:"Payment Pending"});case"completed":return(0,s.jsx)(o.Badge,{className:"bg-green-100 text-green-800",children:"Paid"});case"failed":return(0,s.jsx)(o.Badge,{className:"bg-red-100 text-red-800",children:"Failed"});default:return(0,s.jsx)(o.Badge,{variant:"secondary",children:e})}})(e.payment_status),(0,s.jsxs)("div",{className:"text-xl font-bold text-primary",children:["₹",parseFloat(e.total_amount).toFixed(2)]})]})]})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Shipping Address"}),(0,s.jsx)("p",{className:"text-sm",children:e.shipping_address})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Order Items"}),(0,s.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g.Package,{className:"h-4 w-4 text-primary"}),(0,s.jsx)("span",{className:"text-sm",children:e.name})]}),(0,s.jsxs)("div",{className:"text-sm",children:["Qty: ",e.quantity," × ₹",e.price]})]},t))})]}),e.razorpay_payment_id&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Payment ID"}),(0,s.jsx)("p",{className:"text-xs font-mono",children:e.razorpay_payment_id})]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Order Date: ",new Date(e.created_at).toLocaleString()]})]})})]},e.id)})})]})]})]})}e.s(["default",()=>j])},65371,(e,s,t)=>{let a="/admin/orders";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(92531)]),s.hot&&s.hot.dispose(function(){window.__NEXT_P.push([a])})},35581,e=>{e.v(s=>Promise.all(["static/chunks/279c8ad491389a66.js"].map(s=>e.l(s))).then(()=>s(68938)))},3424,e=>{e.v(s=>Promise.all(["static/chunks/88775f09a46bd3ff.js"].map(s=>e.l(s))).then(()=>s(69377)))}]);