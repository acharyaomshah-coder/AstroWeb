(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52190,e=>{"use strict";var t=e.i(13087),r=e.i(3928),a=e.i(29966);let s=r.forwardRef(({className:e,type:r,...s},l)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...s}));s.displayName="Input",e.s(["Input",()=>s])},10797,e=>{"use strict";var t=e.i(3928),r=e.i(37915),a=e.i(90364),s=e.i(13087),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let l=(0,a.createSlot)(`Primitive.${r}`),i=t.forwardRef((e,t)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?l:r,{...i,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function i(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>i])},40021,e=>{"use strict";var t=e.i(13087),r=e.i(3928),a=e.i(10797),s=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var l=e.i(55571),i=e.i(29966);let n=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(s,{ref:a,className:(0,i.cn)(n(),e),...r}));o.displayName=s.displayName,e.s(["Label",()=>o],40021)},43348,e=>{"use strict";var t=e.i(13087),r=e.i(3928),a=e.i(29966);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));s.displayName="Textarea",e.s(["Textarea",()=>s])},28304,e=>{"use strict";var t=e.i(13087),r=e.i(55571),a=e.i(29966);let s=(0,r.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,...l}){return(0,t.jsx)("div",{className:(0,a.cn)(s({variant:r}),e),...l})}e.s(["Badge",()=>l])},48086,e=>{"use strict";let t=(0,e.i(61233).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],48086)},63086,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=e.r(3928);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=l(e,a)),t&&(s.current=l(t,a))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},68016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useIntersection",{enumerable:!0,get:function(){return o}});let a=e.r(3928),s=e.r(66916),l="function"==typeof IntersectionObserver,i=new Map,n=[];function o({rootRef:e,rootMargin:t,disabled:r}){let o=r||!l,[d,u]=(0,a.useState)(!1),c=(0,a.useRef)(null),f=(0,a.useCallback)(e=>{c.current=e},[]);return(0,a.useEffect)(()=>{if(l){if(o||d)return;let r=c.current;if(r&&r.tagName)return function(e,t,r){let{id:a,observer:s,elements:l}=function(e){let t,r={root:e.root||null,margin:e.rootMargin||""},a=n.find(e=>e.root===r.root&&e.margin===r.margin);if(a&&(t=i.get(a)))return t;let s=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=s.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:s},n.push(r),i.set(r,t),t}(r);return l.set(e,t),s.observe(e),function(){if(l.delete(e),s.unobserve(e),0===l.size){s.disconnect(),i.delete(a);let e=n.findIndex(e=>e.root===a.root&&e.margin===a.margin);e>-1&&n.splice(e,1)}}}(r,e=>e&&u(e),{root:e?.current,rootMargin:t})}else if(!d){let e=(0,s.requestIdleCallback)(()=>u(!0));return()=>(0,s.cancelIdleCallback)(e)}},[o,t,e,d,c.current]),[f,d,(0,a.useCallback)(()=>{u(!1)},[])]}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},79409,(e,t,r)=>{"use strict";function a(e,t,r,a){return!1}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getDomainLocale",{enumerable:!0,get:function(){return a}}),e.r(33374),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},70957,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},27243,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return k},useLinkStatus:function(){return N}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let l=e.r(55035),i=e.r(13087),n=l._(e.r(3928)),o=e.r(51616),d=e.r(79739),u=e.r(28149),c=e.r(7030),f=e.r(9166),p=e.r(96594),m=e.r(68016),h=e.r(79409),x=e.r(31212),g=e.r(63086);e.r(70957);let b=new Set;function v(e,t,r,a){if("undefined"!=typeof window&&(0,d.isLocalURL)(t)){if(!a.bypassPrefetchedCheck){let s=t+"%"+r+"%"+(void 0!==a.locale?a.locale:"locale"in e?e.locale:void 0);if(b.has(s))return;b.add(s)}e.prefetch(t,r,a).catch(e=>{})}}function y(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}let j=n.default.forwardRef(function(e,t){let r,a,{href:s,as:l,children:u,prefetch:b=null,passHref:j,replace:w,shallow:N,scroll:k,locale:C,onClick:_,onNavigate:P,onMouseEnter:M,onTouchStart:L,legacyBehavior:S=!1,...E}=e;r=u,S&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let T=n.default.useContext(p.RouterContext),O=!1!==b,{href:B,as:I}=n.default.useMemo(()=>{if(!T){let e=y(s);return{href:e,as:l?y(l):e}}let[e,t]=(0,o.resolveHref)(T,s,!0);return{href:e,as:l?(0,o.resolveHref)(T,l):t||e}},[T,s,l]),D=n.default.useRef(B),R=n.default.useRef(I);S&&(a=n.default.Children.only(r));let F=S?a&&"object"==typeof a&&a.ref:t,[A,z,q]=(0,m.useIntersection)({rootMargin:"200px"}),U=n.default.useCallback(e=>{(R.current!==I||D.current!==B)&&(q(),R.current=I,D.current=B),A(e)},[I,B,q,A]),$=(0,g.useMergedRef)(U,F);n.default.useEffect(()=>{!T||z&&O&&v(T,B,I,{locale:C})},[I,B,z,C,O,T?.locale,T]);let H={ref:$,onClick(e){S||"function"!=typeof _||_(e),S&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(e),!T||e.defaultPrevented||function(e,t,r,a,s,l,i,n,o){let u,{nodeName:c}=e.currentTarget;if(!("A"===c.toUpperCase()&&((u=e.currentTarget.getAttribute("target"))&&"_self"!==u||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which)||e.currentTarget.hasAttribute("download"))){if(!(0,d.isLocalURL)(r)){s&&(e.preventDefault(),location.replace(r));return}e.preventDefault(),(()=>{if(o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let e=i??!0;"beforePopState"in t?t[s?"replace":"push"](r,a,{shallow:l,locale:n,scroll:e}):t[s?"replace":"push"](a||r,{scroll:e})})()}}(e,T,B,I,w,N,k,C,P)},onMouseEnter(e){S||"function"!=typeof M||M(e),S&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),T&&v(T,B,I,{locale:C,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){S||"function"!=typeof L||L(e),S&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),T&&v(T,B,I,{locale:C,priority:!0,bypassPrefetchedCheck:!0})}};if((0,c.isAbsoluteUrl)(I))H.href=I;else if(!S||j||"a"===a.type&&!("href"in a.props)){let e=void 0!==C?C:T?.locale;H.href=T?.isLocaleDomain&&(0,h.getDomainLocale)(I,e,T?.locales,T?.domainLocales)||(0,x.addBasePath)((0,f.addLocale)(I,e,T?.defaultLocale))}return S?n.default.cloneElement(a,H):(0,i.jsx)("a",{...E,...H,children:r})}),w=(0,n.createContext)({pending:!1}),N=()=>(0,n.useContext)(w),k=j;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},27633,(e,t,r)=>{t.exports=e.r(27243)},93273,e=>{"use strict";let t=(0,e.i(61233).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],93273)},44963,e=>{"use strict";let t=(0,e.i(61233).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],44963)},48865,e=>{"use strict";let t=(0,e.i(61233).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],48865)},9713,e=>{"use strict";let t=(0,e.i(61233).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],9713)},13596,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return l},imageConfigDefault:function(){return i}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let l=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},55172,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return l}});let a=e.r(69477)._(e.r(3928)),s=e.r(13596),l=a.default.createContext(s.imageConfigDefault)},62248,e=>{"use strict";let t=(0,e.i(61233).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],62248)},12763,e=>{"use strict";let t=(0,e.i(61233).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],12763)},52555,93366,e=>{"use strict";var t=e.i(61233);let r=(0,t.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>r],52555);let a=(0,t.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>a],93366)},59762,e=>{"use strict";var t=e.i(13087),r=e.i(3928),a=e.i(36487),s=e.i(12281),l=e.i(27633),i=e.i(81284),n=e.i(32949),o=e.i(51961),d=e.i(78761),u=e.i(52190),c=e.i(40021),f=e.i(43348),p=e.i(28304),m=e.i(93273),h=e.i(62248),x=e.i(44963),g=e.i(48865),b=e.i(9713),v=e.i(52555),y=e.i(48086),j=e.i(12763),w=e.i(93366);let N=["Astrology","Gemstones","Spirituality","Vaastu"];function k(){let e=(0,a.useRouter)(),{user:k,isAdmin:C,loading:_}=(0,i.useAuth)(),[P,M]=(0,r.useState)([]),[L,S]=(0,r.useState)(!0),[E,T]=(0,r.useState)(!1),[O,B]=(0,r.useState)(!1),[I,D]=(0,r.useState)(null),[R,F]=(0,r.useState)(null),[A,z]=(0,r.useState)(!1),[q,U]=(0,r.useState)("url"),[$,H]=(0,r.useState)(""),[V,K]=(0,r.useState)(""),[X,W]=(0,r.useState)(""),[G,Y]=(0,r.useState)(""),[Z,J]=(0,r.useState)("Astrology"),[Q,ee]=(0,r.useState)(""),[et,er]=(0,r.useState)(""),[ea,es]=(0,r.useState)("5"),[el,ei]=(0,r.useState)("");(0,r.useEffect)(()=>{_||C||e.push("/")},[_,C,e]),(0,r.useEffect)(()=>{C&&k&&(er(k.email?.split("@")[0]||"Admin"),en())},[C,k]);let en=async()=>{try{S(!0);let{data:e,error:t}=await n.supabase.from("blog_posts").select("*").order("published_at",{ascending:!1});if(t)throw t;M(e||[])}catch(e){console.error("Error fetching blogs:",e)}finally{S(!1)}},eo=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),ed=()=>{H(""),K(""),W(""),Y(""),J("Astrology"),ee(""),es("5"),ei(""),D(null),U("url")},eu=async e=>{let t=e.target.files?.[0];if(t){if(t.size>5242880)return void alert("File size too large. Please upload an image smaller than 5MB.");try{z(!0);let e=t.name.split(".").pop(),r=`${Math.random().toString(36).substring(2)}_${Date.now()}.${e}`,a=`blog-posts/${r}`,{data:s,error:l}=await n.supabase.storage.listBuckets();if(l)throw l;let i=s.find(e=>"images"===e.name.toLowerCase())?.name||"images",{error:o}=await n.supabase.storage.from(i).upload(a,t);if(o){if(o.message.includes("not found"))throw Error(`Bucket '${i}' not found. Please create a bucket named 'images' in Supabase.`);throw o}let{data:{publicUrl:d}}=n.supabase.storage.from(i).getPublicUrl(a);ee(d),alert("Image uploaded successfully!")}catch(e){console.error("Error uploading image:",e),alert(`Error: ${e.message}`)}finally{z(!1),e.target.value=""}}},ec=async e=>{if(e.preventDefault(),!$||!X||!G||!Q)return void alert("Please fill in all required fields");try{B(!0);let e={title:$,slug:V||eo($),excerpt:X,content:G,category:Z,featured_image:Q,author:et,read_time:parseInt(ea),meta_description:el||X,published_at:new Date().toISOString()};if(I){let{error:t}=await n.supabase.from("blog_posts").update(e).eq("id",I);if(t)throw t;M(t=>t.map(t=>t.id===I?{...t,...e}:t)),alert("Blog post updated successfully!")}else{let{data:t,error:r}=await n.supabase.from("blog_posts").insert([e]).select().single();if(r)throw r;M(e=>[t,...e]),alert("Blog post published successfully!")}ed(),T(!1)}catch(e){console.error("Error saving blog:",e),alert(`Failed to save blog post: ${e.message}`)}finally{B(!1)}},ef=async e=>{if(confirm("Are you sure you want to delete this blog post?"))try{F(e);let{error:t}=await n.supabase.from("blog_posts").delete().eq("id",e);if(t)throw t;M(t=>t.filter(t=>t.id!==e)),alert("Blog post deleted successfully!")}catch(e){console.error("Error deleting blog:",e),alert("Failed to delete blog post")}finally{F(null)}};return _||!C?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(x.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.default,{children:(0,t.jsx)("title",{children:"Manage Blogs - Admin Dashboard"})}),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"bg-primary text-primary-foreground py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,t.jsx)(l.default,{href:"/admin",children:(0,t.jsxs)(o.Button,{variant:"ghost",className:"mb-4 text-primary-foreground hover:bg-primary-foreground/10",children:[(0,t.jsx)(m.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-serif text-4xl font-bold mb-2",children:"Blog Posts"}),(0,t.jsx)("p",{className:"text-primary-foreground/90",children:"Manage blog articles"})]}),(0,t.jsxs)(o.Button,{onClick:()=>{ed(),T(!E)},className:"bg-accent text-accent-foreground hover:bg-accent/90",children:[(0,t.jsx)(g.Plus,{className:"h-4 w-4 mr-2"}),E?"Cancel":"Write Blog"]})]})]})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[E&&(0,t.jsxs)(d.Card,{className:"mb-8 border-primary/20",children:[(0,t.jsx)(d.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.CardTitle,{children:I?"Edit Blog Post":"Write New Blog Post"}),(0,t.jsx)(d.CardDescription,{children:"Create engaging content for your readers"})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:()=>{ed(),T(!1)},children:(0,t.jsx)(y.X,{className:"h-4 w-4"})})]})}),(0,t.jsx)(d.CardContent,{children:(0,t.jsxs)("form",{onSubmit:ec,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"title",children:"Title *"}),(0,t.jsx)(u.Input,{id:"title",value:$,onChange:e=>{var t;H(t=e.target.value),I||K(eo(t))},placeholder:"Enter blog post title",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"slug",children:"URL Slug *"}),(0,t.jsx)(u.Input,{id:"slug",value:V,onChange:e=>K(e.target.value),placeholder:"auto-generated-from-title",required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Auto-generated from title, but you can customize it"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"category",children:"Category *"}),(0,t.jsx)("select",{id:"category",value:Z,onChange:e=>J(e.target.value),className:"w-full h-10 px-3 rounded-md border border-input bg-background",required:!0,children:N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"excerpt",children:"Excerpt *"}),(0,t.jsx)(f.Textarea,{id:"excerpt",value:X,onChange:e=>W(e.target.value),placeholder:"Brief summary of your blog post (1-2 sentences)",rows:2,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"content",children:"Content *"}),(0,t.jsx)(f.Textarea,{id:"content",value:G,onChange:e=>Y(e.target.value),placeholder:"Write your full blog post content here...",rows:12,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(c.Label,{htmlFor:"featuredImage",children:"Featured Image *"}),(0,t.jsxs)("div",{className:"flex bg-muted rounded-md p-0.5",children:[(0,t.jsx)("button",{type:"button",onClick:()=>U("url"),className:`px-2 py-1 text-xs rounded-sm transition-all ${"url"===q?"bg-background shadow-sm":"hover:text-primary"}`,children:"URL"}),(0,t.jsx)("button",{type:"button",onClick:()=>U("upload"),className:`px-2 py-1 text-xs rounded-sm transition-all ${"upload"===q?"bg-background shadow-sm":"hover:text-primary"}`,children:"Upload"})]})]}),"url"===q?(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(u.Input,{id:"featuredImage",value:Q,onChange:e=>ee(e.target.value),placeholder:"https://example.com/image.jpg",required:!0})}):(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"relative group cursor-pointer border-2 border-dashed border-muted-foreground/20 rounded-lg p-4 hover:border-primary/50 transition-all bg-muted/5",children:[(0,t.jsx)(u.Input,{id:"imageUpload",type:"file",accept:"image/*",onChange:eu,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:A}),(0,t.jsx)("div",{className:"flex flex-col items-center justify-center gap-2 text-muted-foreground",children:A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("span",{className:"text-sm",children:"Uploading..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Upload,{className:"h-8 w-8 group-hover:text-primary transition-colors"}),(0,t.jsx)("span",{className:"text-sm",children:"Click to upload image"}),(0,t.jsx)("span",{className:"text-[10px]",children:"Max size: 5MB"})]})})]}),Q&&(0,t.jsxs)("div",{className:"text-[10px] text-muted-foreground truncate max-w-full italic",children:["Currently: ",Q]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"readTime",children:"Read Time (minutes) *"}),(0,t.jsx)(u.Input,{id:"readTime",type:"number",value:ea,onChange:e=>es(e.target.value),placeholder:"5",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"author",children:"Author"}),(0,t.jsx)(u.Input,{id:"author",value:et,onChange:e=>er(e.target.value),placeholder:"Your name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"metaDescription",children:"SEO Meta Description"}),(0,t.jsx)(f.Textarea,{id:"metaDescription",value:el,onChange:e=>ei(e.target.value),placeholder:"Optional - defaults to excerpt if not provided",rows:2})]}),Q&&(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{children:"Image Preview"}),(0,t.jsx)("div",{className:"mt-2 rounded-lg overflow-hidden max-w-md",children:(0,t.jsx)("img",{src:Q,alt:"Preview",className:"w-full h-auto",onError:e=>{e.currentTarget.src="https://via.placeholder.com/800x400?text=Invalid+Image+URL"}})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.Button,{type:"submit",disabled:O,children:O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,t.jsx)(t.Fragment,{children:I?"Update Post":"Publish Post"})}),(0,t.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>{ed(),T(!1)},children:"Cancel"})]})]})})]}),L?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(x.Loader2,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading blog posts..."})]}):0===P.length?(0,t.jsx)(d.Card,{children:(0,t.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(h.FileText,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No blog posts found"}),(0,t.jsxs)(o.Button,{onClick:()=>T(!0),children:[(0,t.jsx)(g.Plus,{className:"h-4 w-4 mr-2"}),"Write Your First Post"]})]})}):(0,t.jsx)("div",{className:"space-y-4",children:P.map(e=>(0,t.jsx)(d.Card,{className:"hover-elevate transition-all",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"md:col-span-1",children:(0,t.jsx)("img",{src:e.featured_image,alt:e.title,className:"w-full h-48 md:h-full object-cover rounded-l-lg",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x300?text=Blog"}})}),(0,t.jsxs)("div",{className:"md:col-span-3 p-6",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(p.Badge,{variant:"outline",children:e.category}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.read_time," min read"]})]}),(0,t.jsx)("h3",{className:"font-serif text-xl font-bold mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.excerpt}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["By ",e.author]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:new Date(e.published_at).toLocaleDateString()}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{className:"font-mono",children:["/",e.slug]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{D(e.id),H(e.title),K(e.slug),W(e.excerpt),Y(e.content),J(e.category),ee(e.featured_image),er(e.author),es(e.read_time.toString()),ei(e.meta_description),T(!0)},children:[(0,t.jsx)(v.Edit,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>window.open(`/blog/${e.slug}`,"_blank"),children:[(0,t.jsx)(j.ExternalLink,{className:"h-4 w-4 mr-1"}),"View"]}),(0,t.jsx)(o.Button,{variant:"destructive",size:"sm",onClick:()=>ef(e.id),disabled:R===e.id,children:R===e.id?(0,t.jsx)(x.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Trash2,{className:"h-4 w-4 mr-1"}),"Delete"]})})]})]})]})},e.id))})]})]})]})}e.s(["default",()=>k])},40526,(e,t,r)=>{let a="/admin/blogs";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(59762)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},44752,e=>{e.v(t=>Promise.all(["static/chunks/5e92293b6c83e2a5.js"].map(t=>e.l(t))).then(()=>t(80957)))},66459,e=>{e.v(t=>Promise.all(["static/chunks/8771f9ebe22b6196.js"].map(t=>e.l(t))).then(()=>t(22419)))}]);