(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52190,e=>{"use strict";var t=e.i(13087),r=e.i(3928),l=e.i(29966);let a=r.forwardRef(({className:e,type:r,...a},i)=>(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...a}));a.displayName="Input",e.s(["Input",()=>a])},10797,e=>{"use strict";var t=e.i(3928),r=e.i(37915),l=e.i(90364),a=e.i(13087),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let i=(0,l.createSlot)(`Primitive.${r}`),n=t.forwardRef((e,t)=>{let{asChild:l,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(l?i:r,{...n,ref:t})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function n(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>n])},40021,e=>{"use strict";var t=e.i(13087),r=e.i(3928),l=e.i(10797),a=r.forwardRef((e,r)=>(0,t.jsx)(l.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var i=e.i(55571),n=e.i(29966);let s=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},l)=>(0,t.jsx)(a,{ref:l,className:(0,n.cn)(s(),e),...r}));o.displayName=a.displayName,e.s(["Label",()=>o],40021)},68016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useIntersection",{enumerable:!0,get:function(){return o}});let l=e.r(3928),a=e.r(66916),i="function"==typeof IntersectionObserver,n=new Map,s=[];function o({rootRef:e,rootMargin:t,disabled:r}){let o=r||!i,[u,d]=(0,l.useState)(!1),c=(0,l.useRef)(null),f=(0,l.useCallback)(e=>{c.current=e},[]);return(0,l.useEffect)(()=>{if(i){if(o||u)return;let r=c.current;if(r&&r.tagName)return function(e,t,r){let{id:l,observer:a,elements:i}=function(e){let t,r={root:e.root||null,margin:e.rootMargin||""},l=s.find(e=>e.root===r.root&&e.margin===r.margin);if(l&&(t=n.get(l)))return t;let a=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=a.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:a},s.push(r),n.set(r,t),t}(r);return i.set(e,t),a.observe(e),function(){if(i.delete(e),a.unobserve(e),0===i.size){a.disconnect(),n.delete(l);let e=s.findIndex(e=>e.root===l.root&&e.margin===l.margin);e>-1&&s.splice(e,1)}}}(r,e=>e&&d(e),{root:e?.current,rootMargin:t})}else if(!u){let e=(0,a.requestIdleCallback)(()=>d(!0));return()=>(0,a.cancelIdleCallback)(e)}},[o,t,e,u,c.current]),[f,u,(0,l.useCallback)(()=>{d(!1)},[])]}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},79409,(e,t,r)=>{"use strict";function l(e,t,r,l){return!1}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getDomainLocale",{enumerable:!0,get:function(){return l}}),e.r(33374),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},63086,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let l=e.r(3928);function a(e,t){let r=(0,l.useRef)(null),a=(0,l.useRef)(null);return(0,l.useCallback)(l=>{if(null===l){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=i(e,l)),t&&(a.current=i(t,l))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},70957,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},27243,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l={default:function(){return C},useLinkStatus:function(){return N}};for(var a in l)Object.defineProperty(r,a,{enumerable:!0,get:l[a]});let i=e.r(55035),n=e.r(13087),s=i._(e.r(3928)),o=e.r(51616),u=e.r(79739),d=e.r(28149),c=e.r(7030),f=e.r(9166),p=e.r(96594),h=e.r(68016),m=e.r(79409),x=e.r(31212),b=e.r(63086);e.r(70957);let v=new Set;function y(e,t,r,l){if("undefined"!=typeof window&&(0,u.isLocalURL)(t)){if(!l.bypassPrefetchedCheck){let a=t+"%"+r+"%"+(void 0!==l.locale?l.locale:"locale"in e?e.locale:void 0);if(v.has(a))return;v.add(a)}e.prefetch(t,r,l).catch(e=>{})}}function g(e){return"string"==typeof e?e:(0,d.formatUrl)(e)}let j=s.default.forwardRef(function(e,t){let r,l,{href:a,as:i,children:d,prefetch:v=null,passHref:j,replace:w,shallow:N,scroll:C,locale:_,onClick:k,onNavigate:P,onMouseEnter:M,onTouchStart:L,legacyBehavior:T=!1,...E}=e;r=d,T&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let O=s.default.useContext(p.RouterContext),R=!1!==v,{href:S,as:A}=s.default.useMemo(()=>{if(!O){let e=g(a);return{href:e,as:i?g(i):e}}let[e,t]=(0,o.resolveHref)(O,a,!0);return{href:e,as:i?(0,o.resolveHref)(O,i):t||e}},[O,a,i]),D=s.default.useRef(S),V=s.default.useRef(A);T&&(l=s.default.Children.only(r));let I=T?l&&"object"==typeof l&&l.ref:t,[U,B,F]=(0,h.useIntersection)({rootMargin:"200px"}),H=s.default.useCallback(e=>{(V.current!==A||D.current!==S)&&(F(),V.current=A,D.current=S),U(e)},[A,S,F,U]),K=(0,b.useMergedRef)(H,I);s.default.useEffect(()=>{!O||B&&R&&y(O,S,A,{locale:_})},[A,S,B,_,R,O?.locale,O]);let q={ref:K,onClick(e){T||"function"!=typeof k||k(e),T&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e),!O||e.defaultPrevented||function(e,t,r,l,a,i,n,s,o){let d,{nodeName:c}=e.currentTarget;if(!("A"===c.toUpperCase()&&((d=e.currentTarget.getAttribute("target"))&&"_self"!==d||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which)||e.currentTarget.hasAttribute("download"))){if(!(0,u.isLocalURL)(r)){a&&(e.preventDefault(),location.replace(r));return}e.preventDefault(),(()=>{if(o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let e=n??!0;"beforePopState"in t?t[a?"replace":"push"](r,l,{shallow:i,locale:s,scroll:e}):t[a?"replace":"push"](l||r,{scroll:e})})()}}(e,O,S,A,w,N,C,_,P)},onMouseEnter(e){T||"function"!=typeof M||M(e),T&&l.props&&"function"==typeof l.props.onMouseEnter&&l.props.onMouseEnter(e),O&&y(O,S,A,{locale:_,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){T||"function"!=typeof L||L(e),T&&l.props&&"function"==typeof l.props.onTouchStart&&l.props.onTouchStart(e),O&&y(O,S,A,{locale:_,priority:!0,bypassPrefetchedCheck:!0})}};if((0,c.isAbsoluteUrl)(A))q.href=A;else if(!T||j||"a"===l.type&&!("href"in l.props)){let e=void 0!==_?_:O?.locale;q.href=O?.isLocaleDomain&&(0,m.getDomainLocale)(A,e,O?.locales,O?.domainLocales)||(0,x.addBasePath)((0,f.addLocale)(A,e,O?.defaultLocale))}return T?s.default.cloneElement(l,q):(0,n.jsx)("a",{...E,...q,children:r})}),w=(0,s.createContext)({pending:!1}),N=()=>(0,s.useContext)(w),C=j;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},27633,(e,t,r)=>{t.exports=e.r(27243)},93273,e=>{"use strict";let t=(0,e.i(61233).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],93273)},44963,e=>{"use strict";let t=(0,e.i(61233).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],44963)},48865,e=>{"use strict";let t=(0,e.i(61233).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],48865)},9713,e=>{"use strict";let t=(0,e.i(61233).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],9713)},90221,e=>{"use strict";let t=(0,e.i(61233).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);e.s(["Video",()=>t],90221)},58615,e=>{"use strict";var t=e.i(13087),r=e.i(3928),l=e.i(36487),a=e.i(12281),i=e.i(27633),n=e.i(81284),s=e.i(32949),o=e.i(51961),u=e.i(78761),d=e.i(52190),c=e.i(40021),f=e.i(93273),p=e.i(90221),h=e.i(44963),m=e.i(9713),x=e.i(48865);function b(){let e=(0,l.useRouter)(),{isAdmin:b,loading:v}=(0,n.useAuth)(),[y,g]=(0,r.useState)([]),[j,w]=(0,r.useState)(!0),[N,C]=(0,r.useState)(!1),[_,k]=(0,r.useState)(null),[P,M]=(0,r.useState)(!1),[L,T]=(0,r.useState)(""),[E,O]=(0,r.useState)(""),[R,S]=(0,r.useState)("");(0,r.useEffect)(()=>{v||b||e.push("/")},[v,b,e]),(0,r.useEffect)(()=>{b&&A()},[b]);let A=async()=>{try{w(!0);let{data:e,error:t}=await s.supabase.from("videos").select("*").order("created_at",{ascending:!1});if(t)throw t;g(e||[])}catch(e){console.error("Error fetching videos:",e)}finally{w(!1)}},D=async e=>{if(e.preventDefault(),!L||!E||!R)return void alert("Please fill in all fields");try{C(!0);let{data:e,error:t}=await s.supabase.from("videos").insert([{title:L,youtube_url:E,thumbnail_url:R}]).select().single();if(t)throw t;g(t=>[e,...t]),T(""),O(""),S(""),M(!1),alert("Video added successfully!")}catch(e){console.error("Error adding video:",e),alert(`Failed to add video: ${e.message}`)}finally{C(!1)}},V=async e=>{if(confirm("Are you sure you want to delete this video?"))try{k(e);let{error:t}=await s.supabase.from("videos").delete().eq("id",e);if(t)throw t;g(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting video:",e),alert("Failed to delete video")}finally{k(null)}},I=()=>{if(E&&!R){let e,t,r=(t=(e=E.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/))?e[1]:null)?`https://img.youtube.com/vi/${t}/maxresdefault.jpg`:"";r&&S(r)}};return v||!b?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{children:(0,t.jsx)("title",{children:"Manage Videos - Admin Dashboard"})}),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"bg-primary text-primary-foreground py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,t.jsx)(i.default,{href:"/admin",children:(0,t.jsxs)(o.Button,{variant:"ghost",className:"mb-4 text-primary-foreground hover:bg-primary-foreground/10",children:[(0,t.jsx)(f.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-serif text-4xl font-bold mb-2",children:"Videos"}),(0,t.jsx)("p",{className:"text-primary-foreground/90",children:"Manage video content"})]}),(0,t.jsxs)(o.Button,{onClick:()=>M(!P),className:"bg-accent text-accent-foreground hover:bg-accent/90",children:[(0,t.jsx)(x.Plus,{className:"h-4 w-4 mr-2"}),"Add Video"]})]})]})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[P&&(0,t.jsxs)(u.Card,{className:"mb-8 border-primary/20",children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsx)(u.CardTitle,{children:"Add New Video"}),(0,t.jsx)(u.CardDescription,{children:"Add a YouTube video to the gallery"})]}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"title",children:"Video Title"}),(0,t.jsx)(d.Input,{id:"title",value:L,onChange:e=>T(e.target.value),placeholder:"Enter video title",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"youtubeUrl",children:"YouTube URL"}),(0,t.jsx)(d.Input,{id:"youtubeUrl",value:E,onChange:e=>O(e.target.value),onBlur:I,placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"thumbnailUrl",children:"Thumbnail URL"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.Input,{id:"thumbnailUrl",value:R,onChange:e=>S(e.target.value),placeholder:"https://img.youtube.com/vi/...",required:!0}),(0,t.jsx)(o.Button,{type:"button",variant:"outline",onClick:I,children:"Auto-fill"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:'Click "Auto-fill" to generate thumbnail from YouTube URL'})]}),R&&(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{children:"Preview"}),(0,t.jsx)("img",{src:R,alt:"Thumbnail preview",className:"w-full max-w-md rounded-lg mt-2",onError:e=>{e.currentTarget.src="https://via.placeholder.com/480x360?text=Invalid+Thumbnail"}})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.Button,{type:"submit",disabled:N,children:N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):"Add Video"}),(0,t.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>M(!1),children:"Cancel"})]})]})})]}),j?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading videos..."})]}):0===y.length?(0,t.jsx)(u.Card,{children:(0,t.jsxs)(u.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(p.Video,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No videos found"}),(0,t.jsxs)(o.Button,{onClick:()=>M(!0),className:"mt-4",children:[(0,t.jsx)(x.Plus,{className:"h-4 w-4 mr-2"}),"Add Your First Video"]})]})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(e=>(0,t.jsxs)(u.Card,{className:"overflow-hidden hover-elevate transition-all",children:[(0,t.jsx)("div",{className:"relative aspect-video",children:(0,t.jsx)("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/480x360?text=Video"}})}),(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsx)(u.CardTitle,{className:"line-clamp-2",children:e.title}),(0,t.jsxs)(u.CardDescription,{children:["Added: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(e.youtube_url,"_blank"),children:[(0,t.jsx)(p.Video,{className:"h-4 w-4 mr-1"}),"Watch"]}),(0,t.jsx)(o.Button,{variant:"destructive",size:"sm",onClick:()=>V(e.id),disabled:_===e.id,children:_===e.id?(0,t.jsx)(h.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(m.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})]})]})}e.s(["default",()=>b])},19969,(e,t,r)=>{let l="/admin/videos";(window.__NEXT_P=window.__NEXT_P||[]).push([l,()=>e.r(58615)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([l])})},44752,e=>{e.v(t=>Promise.all(["static/chunks/5e92293b6c83e2a5.js"].map(t=>e.l(t))).then(()=>t(80957)))},66459,e=>{e.v(t=>Promise.all(["static/chunks/8771f9ebe22b6196.js"].map(t=>e.l(t))).then(()=>t(22419)))}]);