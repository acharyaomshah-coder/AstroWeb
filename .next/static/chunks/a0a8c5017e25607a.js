(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68016,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useIntersection",{enumerable:!0,get:function(){return o}});let r=e.r(3928),n=e.r(66916),s="function"==typeof IntersectionObserver,l=new Map,i=[];function o({rootRef:e,rootMargin:t,disabled:a}){let o=a||!s,[u,c]=(0,r.useState)(!1),d=(0,r.useRef)(null),f=(0,r.useCallback)(e=>{d.current=e},[]);return(0,r.useEffect)(()=>{if(s){if(o||u)return;let a=d.current;if(a&&a.tagName)return function(e,t,a){let{id:r,observer:n,elements:s}=function(e){let t,a={root:e.root||null,margin:e.rootMargin||""},r=i.find(e=>e.root===a.root&&e.margin===a.margin);if(r&&(t=l.get(r)))return t;let n=new Map;return t={id:a,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=n.get(e.target),a=e.isIntersecting||e.intersectionRatio>0;t&&a&&t(a)})},e),elements:n},i.push(a),l.set(a,t),t}(a);return s.set(e,t),n.observe(e),function(){if(s.delete(e),n.unobserve(e),0===s.size){n.disconnect(),l.delete(r);let e=i.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&i.splice(e,1)}}}(a,e=>e&&c(e),{root:e?.current,rootMargin:t})}else if(!u){let e=(0,n.requestIdleCallback)(()=>c(!0));return()=>(0,n.cancelIdleCallback)(e)}},[o,t,e,u,d.current]),[f,u,(0,r.useCallback)(()=>{c(!1)},[])]}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},79409,(e,t,a)=>{"use strict";function r(e,t,a,r){return!1}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"getDomainLocale",{enumerable:!0,get:function(){return r}}),e.r(33374),("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},63086,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return n}});let r=e.r(3928);function n(e,t){let a=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=a.current;e&&(a.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(a.current=s(e,r)),t&&(n.current=s(t,r))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},70957,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},27243,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={default:function(){return _},useLinkStatus:function(){return S}};for(var n in r)Object.defineProperty(a,n,{enumerable:!0,get:r[n]});let s=e.r(55035),l=e.r(13087),i=s._(e.r(3928)),o=e.r(51616),u=e.r(79739),c=e.r(28149),d=e.r(7030),f=e.r(9166),p=e.r(96594),h=e.r(68016),g=e.r(79409),v=e.r(31212),m=e.r(63086);e.r(70957);let y=new Set;function x(e,t,a,r){if("undefined"!=typeof window&&(0,u.isLocalURL)(t)){if(!r.bypassPrefetchedCheck){let n=t+"%"+a+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(y.has(n))return;y.add(n)}e.prefetch(t,a,r).catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,c.formatUrl)(e)}let j=i.default.forwardRef(function(e,t){let a,r,{href:n,as:s,children:c,prefetch:y=null,passHref:j,replace:k,shallow:S,scroll:_,locale:w,onClick:T,onNavigate:P,onMouseEnter:C,onTouchStart:M,legacyBehavior:O=!1,...N}=e;a=c,O&&("string"==typeof a||"number"==typeof a)&&(a=(0,l.jsx)("a",{children:a}));let E=i.default.useContext(p.RouterContext),D=!1!==y,{href:I,as:A}=i.default.useMemo(()=>{if(!E){let e=b(n);return{href:e,as:s?b(s):e}}let[e,t]=(0,o.resolveHref)(E,n,!0);return{href:e,as:s?(0,o.resolveHref)(E,s):t||e}},[E,n,s]),L=i.default.useRef(I),R=i.default.useRef(A);O&&(r=i.default.Children.only(a));let F=O?r&&"object"==typeof r&&r.ref:t,[U,B,K]=(0,h.useIntersection)({rootMargin:"200px"}),H=i.default.useCallback(e=>{(R.current!==A||L.current!==I)&&(K(),R.current=A,L.current=I),U(e)},[A,I,K,U]),V=(0,m.useMergedRef)(H,F);i.default.useEffect(()=>{!E||B&&D&&x(E,I,A,{locale:w})},[A,I,B,w,D,E?.locale,E]);let z={ref:V,onClick(e){O||"function"!=typeof T||T(e),O&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),!E||e.defaultPrevented||function(e,t,a,r,n,s,l,i,o){let c,{nodeName:d}=e.currentTarget;if(!("A"===d.toUpperCase()&&((c=e.currentTarget.getAttribute("target"))&&"_self"!==c||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which)||e.currentTarget.hasAttribute("download"))){if(!(0,u.isLocalURL)(a)){n&&(e.preventDefault(),location.replace(a));return}e.preventDefault(),(()=>{if(o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let e=l??!0;"beforePopState"in t?t[n?"replace":"push"](a,r,{shallow:s,locale:i,scroll:e}):t[n?"replace":"push"](r||a,{scroll:e})})()}}(e,E,I,A,k,S,_,w,P)},onMouseEnter(e){O||"function"!=typeof C||C(e),O&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),E&&x(E,I,A,{locale:w,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){O||"function"!=typeof M||M(e),O&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),E&&x(E,I,A,{locale:w,priority:!0,bypassPrefetchedCheck:!0})}};if((0,d.isAbsoluteUrl)(A))z.href=A;else if(!O||j||"a"===r.type&&!("href"in r.props)){let e=void 0!==w?w:E?.locale;z.href=E?.isLocaleDomain&&(0,g.getDomainLocale)(A,e,E?.locales,E?.domainLocales)||(0,v.addBasePath)((0,f.addLocale)(A,e,E?.defaultLocale))}return O?i.default.cloneElement(r,z):(0,l.jsx)("a",{...N,...z,children:a})}),k=(0,i.createContext)({pending:!1}),S=()=>(0,i.useContext)(k),_=j;("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},27633,(e,t,a)=>{t.exports=e.r(27243)},93273,e=>{"use strict";let t=(0,e.i(61233).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],93273)},67202,e=>{"use strict";var t=e.i(3928);let a=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),i({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},s=[],l={toasts:[]};function i(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),s.forEach(e=>{e(l)})}function o({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>i({type:"DISMISS_TOAST",toastId:t});return i({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>i({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,a]=t.useState(l);return t.useEffect(()=>(s.push(a),()=>{let e=s.indexOf(a);e>-1&&s.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>i({type:"DISMISS_TOAST",toastId:e})}}e.s(["toast",()=>o,"useToast",()=>u])},52190,e=>{"use strict";var t=e.i(13087),a=e.i(3928),r=e.i(29966);let n=a.forwardRef(({className:e,type:a,...n},s)=>(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));n.displayName="Input",e.s(["Input",()=>n])},10797,e=>{"use strict";var t=e.i(3928),a=e.i(37915),r=e.i(90364),n=e.i(13087),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let s=(0,r.createSlot)(`Primitive.${a}`),l=t.forwardRef((e,t)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(r?s:a,{...l,ref:t})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>s,"dispatchDiscreteCustomEvent",()=>l])},40021,e=>{"use strict";var t=e.i(13087),a=e.i(3928),r=e.i(10797),n=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var s=e.i(55571),l=e.i(29966);let i=(0,s.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(n,{ref:r,className:(0,l.cn)(i(),e),...a}));o.displayName=n.displayName,e.s(["Label",()=>o],40021)},97587,e=>{"use strict";let t=(0,e.i(61233).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],97587)},40727,e=>{"use strict";let t=(0,e.i(61233).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],40727)},86727,e=>{"use strict";var t=e.i(13087),a=e.i(3928),r=e.i(36487),n=e.i(12281),s=e.i(27633),l=e.i(81284),i=e.i(51961),o=e.i(78761),u=e.i(52190),c=e.i(40021),d=e.i(93273),f=e.i(97587),p=e.i(40727),h=e.i(67202);function g(){let e=(0,r.useRouter)(),{user:g,isAdmin:v,loading:m}=(0,l.useAuth)(),{toast:y}=(0,h.useToast)(),[x,b]=(0,a.useState)(!1),[j,k]=(0,a.useState)(()=>new Date().toISOString().split("T")[0]),[S,_]=(0,a.useState)({tithi:"",vaar:"",nakshatr:"",yoga:"",karan:""});(0,a.useEffect)(()=>{m||v||e.push("/")},[m,v,e]),(0,a.useEffect)(()=>{v&&j&&w()},[v,j]);let w=async()=>{try{let e=await fetch(`/api/panchang?date=${j}`);if(e.ok){let t=await e.json();t?_({tithi:t.tithi||"",vaar:t.vaar||"",nakshatr:t.nakshatr||"",yoga:t.yoga||"",karan:t.karan||""}):_({tithi:"",vaar:"",nakshatr:"",yoga:"",karan:""})}}catch(e){console.error("Error fetching panchang:",e)}},T=async()=>{try{b(!0);let e=localStorage.getItem("token");if((await fetch("/api/panchang",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:j,...S})})).ok)y({title:"Success",description:"Panchang saved successfully!"});else throw Error("Failed to save panchang")}catch(e){console.error("Error saving panchang:",e),y({title:"Error",description:"Failed to save panchang. Please try again.",variant:"destructive"})}finally{b(!1)}};return m||!v?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.default,{children:(0,t.jsx)("title",{children:"Manage Panchang - Admin Dashboard"})}),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"bg-primary text-primary-foreground py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,t.jsx)(s.default,{href:"/admin",children:(0,t.jsxs)(i.Button,{variant:"ghost",className:"mb-4 text-primary-foreground hover:bg-primary-foreground/10",children:[(0,t.jsx)(d.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(f.Clock,{className:"h-10 w-10 text-accent"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-serif text-4xl font-bold",children:"Manage Daily Panchang"}),(0,t.jsx)("p",{className:"text-primary-foreground/90",children:"Set daily astrological details (Tithi, Nakshatra, etc.)"})]})]})]})}),(0,t.jsx)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:(0,t.jsxs)(o.Card,{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsx)(o.CardTitle,{children:"Daily Panchang Details"}),(0,t.jsx)(o.CardDescription,{children:"Enter the astrological details for the selected date"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"date",children:"Date"}),(0,t.jsx)(u.Input,{id:"date",type:"date",value:j,onChange:e=>k(e.target.value),className:"max-w-xs"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"tithi",children:"Tithi (तिथि)"}),(0,t.jsx)(u.Input,{id:"tithi",placeholder:"e.g., Dashami",value:S.tithi,onChange:e=>_({...S,tithi:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"vaar",children:"Vaar (वार)"}),(0,t.jsx)(u.Input,{id:"vaar",placeholder:"e.g., Ravivaar",value:S.vaar,onChange:e=>_({...S,vaar:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"nakshatr",children:"Nakshatra (नक्षत्र)"}),(0,t.jsx)(u.Input,{id:"nakshatr",placeholder:"e.g., Swati",value:S.nakshatr,onChange:e=>_({...S,nakshatr:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"yoga",children:"Yoga (योग)"}),(0,t.jsx)(u.Input,{id:"yoga",placeholder:"e.g., Shiva",value:S.yoga,onChange:e=>_({...S,yoga:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"karan",children:"Karan (करण)"}),(0,t.jsx)(u.Input,{id:"karan",placeholder:"e.g., Vishti",value:S.karan,onChange:e=>_({...S,karan:e.target.value})})]})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)(i.Button,{onClick:T,disabled:x,size:"lg",className:"w-full sm:w-auto",children:[(0,t.jsx)(p.Save,{className:"h-4 w-4 mr-2"}),x?"Saving...":"Save Daily Panchang"]})})]})]})})]})]})}e.s(["default",()=>g])},48554,(e,t,a)=>{let r="/admin/panchang";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(86727)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})},44752,e=>{e.v(t=>Promise.all(["static/chunks/5e92293b6c83e2a5.js"].map(t=>e.l(t))).then(()=>t(80957)))},66459,e=>{e.v(t=>Promise.all(["static/chunks/8771f9ebe22b6196.js"].map(t=>e.l(t))).then(()=>t(22419)))}]);