(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46065,e=>{"use strict";var a=e.i(65829);let t=0,s=new Map,i=e=>{if(s.has(e))return;let a=setTimeout(()=>{s.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,a)},r=[],n={toasts:[]};function l(e){n=((e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}})(n,e),r.forEach(e=>{e(n)})}function o({...e}){let a=(t=(t+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function d(){let[e,t]=a.useState(n);return a.useEffect(()=>(r.push(t),()=>{let e=r.indexOf(t);e>-1&&r.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>d])},56424,e=>{"use strict";var a=e.i(65829),t=e.i(14433),s=e.i(42521),i=e.i(88627),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,s.createSlot)(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s?r:t,{...n,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function n(e,a){e&&t.flushSync(()=>e.dispatchEvent(a))}e.s(["Primitive",()=>r,"dispatchDiscreteCustomEvent",()=>n])},12636,e=>{"use strict";var a=e.i(88627),t=e.i(65829),s=e.i(46577);let i=t.forwardRef(({className:e,type:t,...i},r)=>(0,a.jsx)("input",{type:t,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...i}));i.displayName="Input",e.s(["Input",()=>i])},41020,e=>{"use strict";var a=e.i(88627),t=e.i(65829),s=e.i(56424),i=t.forwardRef((e,t)=>(0,a.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var r=e.i(84201),n=e.i(46577);let l=(0,r.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i,{ref:s,className:(0,n.cn)(l(),e),...t}));o.displayName=i.displayName,e.s(["Label",()=>o],41020)},70012,e=>{"use strict";let a=(0,e.i(26822).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],70012)},53088,e=>{"use strict";let a=(0,e.i(26822).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],53088)},36563,e=>{"use strict";var a=e.i(88627),t=e.i(65829),s=e.i(33289),i=e.i(31079),r=e.i(25474),n=e.i(39036),l=e.i(56757),o=e.i(2434),d=e.i(12636),c=e.i(41020),h=e.i(30065),u=e.i(70012),p=e.i(53088),m=e.i(46065);function f(){let e=(0,s.useRouter)(),{user:f,isAdmin:g,loading:x}=(0,n.useAuth)(),{toast:v}=(0,m.useToast)(),[y,j]=(0,t.useState)(!1),[b,S]=(0,t.useState)(()=>new Date().toISOString().split("T")[0]),[T,k]=(0,t.useState)({tithi:"",vaar:"",nakshatr:"",yoga:"",karan:""});(0,t.useEffect)(()=>{x||g||e.push("/")},[x,g,e]),(0,t.useEffect)(()=>{g&&b&&w()},[g,b]);let w=async()=>{try{let e=await fetch(`/api/panchang?date=${b}`);if(e.ok){let a=await e.json();a?k({tithi:a.tithi||"",vaar:a.vaar||"",nakshatr:a.nakshatr||"",yoga:a.yoga||"",karan:a.karan||""}):k({tithi:"",vaar:"",nakshatr:"",yoga:"",karan:""})}}catch(e){console.error("Error fetching panchang:",e)}},N=async()=>{try{j(!0);let e=localStorage.getItem("token");if((await fetch("/api/panchang",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:b,...T})})).ok)v({title:"Success",description:"Panchang saved successfully!"});else throw Error("Failed to save panchang")}catch(e){console.error("Error saving panchang:",e),v({title:"Error",description:"Failed to save panchang. Please try again.",variant:"destructive"})}finally{j(!1)}};return x||!g?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{children:(0,a.jsx)("title",{children:"Manage Panchang - Admin Dashboard"})}),(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"bg-primary text-primary-foreground py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,a.jsx)(r.default,{href:"/admin",children:(0,a.jsxs)(l.Button,{variant:"ghost",className:"mb-4 text-primary-foreground hover:bg-primary-foreground/10",children:[(0,a.jsx)(h.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.Clock,{className:"h-10 w-10 text-accent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-serif text-4xl font-bold",children:"Manage Daily Panchang"}),(0,a.jsx)("p",{className:"text-primary-foreground/90",children:"Set daily astrological details (Tithi, Nakshatra, etc.)"})]})]})]})}),(0,a.jsx)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:(0,a.jsxs)(o.Card,{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)(o.CardHeader,{children:[(0,a.jsx)(o.CardTitle,{children:"Daily Panchang Details"}),(0,a.jsx)(o.CardDescription,{children:"Enter the astrological details for the selected date"})]}),(0,a.jsxs)(o.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"date",children:"Date"}),(0,a.jsx)(d.Input,{id:"date",type:"date",value:b,onChange:e=>S(e.target.value),className:"max-w-xs"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"tithi",children:"Tithi (तिथि)"}),(0,a.jsx)(d.Input,{id:"tithi",placeholder:"e.g., Dashami",value:T.tithi,onChange:e=>k({...T,tithi:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"vaar",children:"Vaar (वार)"}),(0,a.jsx)(d.Input,{id:"vaar",placeholder:"e.g., Ravivaar",value:T.vaar,onChange:e=>k({...T,vaar:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"nakshatr",children:"Nakshatra (नक्षत्र)"}),(0,a.jsx)(d.Input,{id:"nakshatr",placeholder:"e.g., Swati",value:T.nakshatr,onChange:e=>k({...T,nakshatr:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"yoga",children:"Yoga (योग)"}),(0,a.jsx)(d.Input,{id:"yoga",placeholder:"e.g., Shiva",value:T.yoga,onChange:e=>k({...T,yoga:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Label,{htmlFor:"karan",children:"Karan (करण)"}),(0,a.jsx)(d.Input,{id:"karan",placeholder:"e.g., Vishti",value:T.karan,onChange:e=>k({...T,karan:e.target.value})})]})]}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(l.Button,{onClick:N,disabled:y,size:"lg",className:"w-full sm:w-auto",children:[(0,a.jsx)(p.Save,{className:"h-4 w-4 mr-2"}),y?"Saving...":"Save Daily Panchang"]})})]})]})})]})]})}e.s(["default",()=>f])},80704,(e,a,t)=>{let s="/admin/panchang";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(36563)]),a.hot&&a.hot.dispose(function(){window.__NEXT_P.push([s])})},35581,e=>{e.v(a=>Promise.all(["static/chunks/279c8ad491389a66.js"].map(a=>e.l(a))).then(()=>a(68938)))},3424,e=>{e.v(a=>Promise.all(["static/chunks/88775f09a46bd3ff.js"].map(a=>e.l(a))).then(()=>a(69377)))}]);