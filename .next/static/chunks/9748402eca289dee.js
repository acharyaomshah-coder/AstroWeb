(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34803,e=>{"use strict";var t=e.i(88627),r=e.i(84201),s=e.i(46577);let a=(0,r.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...i}){return(0,t.jsx)("div",{className:(0,s.cn)(a({variant:r}),e),...i})}e.s(["Badge",()=>i])},56424,e=>{"use strict";var t=e.i(65829),r=e.i(14433),s=e.i(42521),a=e.i(88627),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let i=(0,s.createSlot)(`Primitive.${r}`),l=t.forwardRef((e,t)=>{let{asChild:s,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?i:r,{...l,ref:t})});return l.displayName=`Primitive.${r}`,{...e,[r]:l}},{});function l(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>l])},12636,e=>{"use strict";var t=e.i(88627),r=e.i(65829),s=e.i(46577);let a=r.forwardRef(({className:e,type:r,...a},i)=>(0,t.jsx)("input",{type:r,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...a}));a.displayName="Input",e.s(["Input",()=>a])},41020,e=>{"use strict";var t=e.i(88627),r=e.i(65829),s=e.i(56424),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var i=e.i(84201),l=e.i(46577);let d=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(a,{ref:s,className:(0,l.cn)(d(),e),...r}));n.displayName=a.displayName,e.s(["Label",()=>n],41020)},51070,e=>{"use strict";var t=e.i(88627),r=e.i(65829),s=e.i(46577);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));a.displayName="Textarea",e.s(["Textarea",()=>a])},40061,e=>{"use strict";let t=(0,e.i(26822).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],40061)},11809,e=>{"use strict";let t=(0,e.i(26822).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],11809)},63746,e=>{"use strict";let t=(0,e.i(26822).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],63746)},71515,e=>{"use strict";let t=(0,e.i(26822).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],71515)},75154,e=>{"use strict";let t=(0,e.i(26822).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],75154)},55617,e=>{"use strict";let t=(0,e.i(26822).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],55617)},32087,e=>{"use strict";var t=e.i(88627),r=e.i(65829),s=e.i(33289),a=e.i(31079),i=e.i(25474),l=e.i(39036),d=e.i(73535),n=e.i(56757),c=e.i(2434),o=e.i(12636),u=e.i(41020),m=e.i(51070),h=e.i(34803),p=e.i(30065),x=e.i(75154),f=e.i(40061),g=e.i(63746),v=e.i(71515),j=e.i(55617),b=e.i(11809);let y=["gemstones","bracelets","rudraksha","yantras","rings","remedies"];function N(){let e=(0,s.useRouter)(),{isAdmin:N,loading:w}=(0,l.useAuth)(),[k,C]=(0,r.useState)([]),[P,S]=(0,r.useState)(!0),[L,F]=(0,r.useState)(!1),[B,T]=(0,r.useState)(!1),[E,M]=(0,r.useState)(null),[A,_]=(0,r.useState)(null),[q,D]=(0,r.useState)(""),[R,z]=(0,r.useState)("gemstones"),[I,U]=(0,r.useState)(""),[X,V]=(0,r.useState)(""),[H,O]=(0,r.useState)(""),[$,K]=(0,r.useState)(""),[G,Y]=(0,r.useState)(!0),[J,Q]=(0,r.useState)(!0);(0,r.useEffect)(()=>{w||N||e.push("/")},[w,N,e]),(0,r.useEffect)(()=>{N&&W()},[N]);let W=async()=>{try{S(!0);let{data:e,error:t}=await d.supabase.from("products").select("*").order("name",{ascending:!0});if(t)throw t;C(e||[])}catch(e){console.error("Error fetching products:",e)}finally{S(!1)}},Z=()=>{D(""),z("gemstones"),U(""),V(""),O(""),K(""),Y(!0),Q(!0),M(null)},ee=async e=>{if(e.preventDefault(),!q||!R||!I||!X)return void alert("Please fill in all required fields");let t=H.split("\n").filter(e=>""!==e.trim()),r=$.split("\n").filter(e=>""!==e.trim());if(0===t.length)return void alert("Please add at least one image URL");try{T(!0);let e={name:q,category:R,price:parseFloat(I).toFixed(2),description:X,images:t,benefits:r,certified:G,in_stock:J,rating:"4.50",review_count:0};if(E){let{error:t}=await d.supabase.from("products").update(e).eq("id",E);if(t)throw t;C(t=>t.map(t=>t.id===E?{...t,...e}:t)),alert("Product updated successfully!")}else{let{data:t,error:r}=await d.supabase.from("products").insert([e]).select().single();if(r)throw r;C(e=>[t,...e]),alert("Product added successfully!")}Z(),F(!1)}catch(e){console.error("Error saving product:",e),alert(`Failed to save product: ${e.message}`)}finally{T(!1)}},et=async e=>{if(confirm("Are you sure you want to delete this product?"))try{_(e);let{error:t}=await d.supabase.from("products").delete().eq("id",e);if(t)throw t;C(t=>t.filter(t=>t.id!==e)),alert("Product deleted successfully!")}catch(e){console.error("Error deleting product:",e),alert("Failed to delete product")}finally{_(null)}};return w||!N?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{children:(0,t.jsx)("title",{children:"Manage Products - Admin Dashboard"})}),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"bg-primary text-primary-foreground py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[(0,t.jsx)(i.default,{href:"/admin",children:(0,t.jsxs)(n.Button,{variant:"ghost",className:"mb-4 text-primary-foreground hover:bg-primary-foreground/10",children:[(0,t.jsx)(p.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-serif text-4xl font-bold mb-2",children:"Products"}),(0,t.jsx)("p",{className:"text-primary-foreground/90",children:"Manage product catalog"})]}),(0,t.jsxs)(n.Button,{onClick:()=>{Z(),F(!L)},className:"bg-accent text-accent-foreground hover:bg-accent/90",children:[(0,t.jsx)(g.Plus,{className:"h-4 w-4 mr-2"}),L?"Cancel":"Add Product"]})]})]})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[L&&(0,t.jsxs)(c.Card,{className:"mb-8 border-primary/20",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.CardTitle,{children:E?"Edit Product":"Add New Product"}),(0,t.jsx)(c.CardDescription,{children:"Fill in the product details"})]}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>{Z(),F(!1)},children:(0,t.jsx)(b.X,{className:"h-4 w-4"})})]})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("form",{onSubmit:ee,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"name",children:"Product Name *"}),(0,t.jsx)(o.Input,{id:"name",value:q,onChange:e=>D(e.target.value),placeholder:"e.g., Blue Sapphire Gemstone",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"category",children:"Category *"}),(0,t.jsx)("select",{id:"category",value:R,onChange:e=>z(e.target.value),className:"w-full h-10 px-3 rounded-md border border-input bg-background",required:!0,children:y.map(e=>(0,t.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"price",children:"Price (₹) *"}),(0,t.jsx)(o.Input,{id:"price",type:"number",step:"0.01",value:I,onChange:e=>U(e.target.value),placeholder:"999.99",required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"certified",checked:G,onChange:e=>Y(e.target.checked),className:"w-4 h-4"}),(0,t.jsx)(u.Label,{htmlFor:"certified",className:"cursor-pointer",children:"Certified"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"inStock",checked:J,onChange:e=>Q(e.target.checked),className:"w-4 h-4"}),(0,t.jsx)(u.Label,{htmlFor:"inStock",className:"cursor-pointer",children:"In Stock"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"description",children:"Description *"}),(0,t.jsx)(m.Textarea,{id:"description",value:X,onChange:e=>V(e.target.value),placeholder:"Enter detailed product description...",rows:4,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"images",children:"Image URLs (one per line) *"}),(0,t.jsx)(m.Textarea,{id:"images",value:H,onChange:e=>O(e.target.value),placeholder:"https://example.com/image1.jpg https://example.com/image2.jpg",rows:3,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"benefits",children:"Benefits (one per line)"}),(0,t.jsx)(m.Textarea,{id:"benefits",value:$,onChange:e=>K(e.target.value),placeholder:"Enhances wisdom Promotes spiritual growth Brings prosperity",rows:4})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Button,{type:"submit",disabled:B,children:B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,t.jsx)(t.Fragment,{children:E?"Update Product":"Add Product"})}),(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>{Z(),F(!1)},children:"Cancel"})]})]})})]}),P?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading products..."})]}):0===k.length?(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(x.Package,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No products found"}),(0,t.jsxs)(n.Button,{onClick:()=>F(!0),children:[(0,t.jsx)(g.Plus,{className:"h-4 w-4 mr-2"}),"Add Your First Product"]})]})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>(0,t.jsxs)(c.Card,{className:"overflow-hidden hover-elevate transition-all",children:[(0,t.jsxs)("div",{className:"relative aspect-square",children:[(0,t.jsx)("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400?text=Product"}}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[e.certified&&(0,t.jsx)(h.Badge,{className:"bg-green-500",children:"Certified"}),!e.in_stock&&(0,t.jsx)(h.Badge,{variant:"destructive",children:"Out of Stock"})]})]}),(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{className:"line-clamp-2",children:e.name}),(0,t.jsx)(c.CardDescription,{children:(0,t.jsx)(h.Badge,{variant:"outline",className:"capitalize",children:e.category})})]}),(0,t.jsxs)(c.CardContent,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-primary",children:["₹",parseFloat(e.price).toFixed(2)]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-2",children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{M(e.id),D(e.name),z(e.category),U(e.price),V(e.description),O(e.images.join("\n")),K(e.benefits.join("\n")),Y(e.certified),Q(e.in_stock),F(!0)},children:[(0,t.jsx)(j.Edit,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,t.jsx)(n.Button,{variant:"destructive",size:"sm",onClick:()=>et(e.id),disabled:A===e.id,children:A===e.id?(0,t.jsx)(f.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(v.Trash2,{className:"h-4 w-4"})})]})]})]},e.id))})]})]})]})}e.s(["default",()=>N])},69603,(e,t,r)=>{let s="/admin/products";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(32087)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([s])})},35581,e=>{e.v(t=>Promise.all(["static/chunks/279c8ad491389a66.js"].map(t=>e.l(t))).then(()=>t(68938)))},3424,e=>{e.v(t=>Promise.all(["static/chunks/88775f09a46bd3ff.js"].map(t=>e.l(t))).then(()=>t(69377)))}]);